
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
import{d as e,b as s,f as a,d4 as i,g as r,v as o,x as t,a6 as n,cp as l,h as u,w as p,bI as m,c7 as d,ch as c,i as b,F as f,R as v,G as h,a2 as w,a9 as _,c6 as y,I as g}from"./index.a82b8a9a.js";/* empty css               *//* empty css                       *//* empty css                        */import"./el-loading.57736668.js";import{E as k,a as x}from"./index.75cd03b0.js";import{E as j}from"./index.148252b1.js";import{E as A}from"./index.522a30c7.js";import"./event.6c7ea317.js";const $=e({name:"AuthAll"}),C=Object.assign($,{props:{value:{type:Array,default:()=>[]}},setup(e){const o=e;return(e,t)=>(s(),a("div",null,[i().authAll(o.value)?r(e.$slots,"default",{key:0}):r(e.$slots,"no-auth",{key:1})]))}}),E=e({name:"Auth"}),V=Object.assign(E,{props:{value:{type:[String,Array],default:""}},setup(e){const o=e;return(e,t)=>(s(),a("div",null,[i().auth(o.value)?r(e.$slots,"default",{key:0}):r(e.$slots,"no-auth",{key:1})]))}}),I={key:0},O={key:1},F=f("h3",null,"切换帐号",-1),G=f("h3",null,"帐号权限",-1),P=f("h3",null,"鉴权组件（请对照代码查看）",-1),R=w("你有 permission.browse 权限"),S=w("你没有 permission.browse 权限"),T=w("你有 permission.create 权限"),U=w("你没有 permission.create 权限"),q=w("你有 permission.browse 或 permission.create 权限"),z=w("你没有 permission.browse 或 permission.create 权限"),B=w("你有 permission.browse 和 permission.create 权限"),D=w("你没有 permission.browse 和 permission.create 权限"),H=f("h3",null,"鉴权指令（请对照代码查看）",-1),J=[w(" 如果你有 permission.browse 权限则能看到这句话 ")],K=[w(" 如果你有 permission.create 权限则能看到这句话 ")],L=[w(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")],M=[w(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")],N=f("h3",null,"鉴权函数（请对照代码查看）",-1),Q=w("校验 permission.browse 权限"),W=w("校验 permission.create 权限"),X=w("校验 permission.browse 或 permission.create 权限"),Y=w("校验 permission.browse 和 permission.create 权限"),Z={__name:"index",setup(e){const{proxy:i}=g(),r=o(),m=t();function w(e){A.service({lock:!0,text:"帐号切换中",background:"rgba(0, 0, 0, 0.7)"}),m.login({account:e,password:""}).then((()=>{setTimeout((()=>{location.reload()}),1e3)}))}function $(e){i.$auth(e)?_.success("校验通过"):_.error("校验不通过")}return(e,o)=>{const t=y,g=k,A=x,E=j,Z=V,ee=C,se=n,ae=l,ie=d,re=c("auth"),oe=c("auth-all");return s(),a("div",null,[u(t,{title:"权限验证"}),u(ie,null,{default:p((()=>[b(r).app.enablePermission?(s(),a("div",O,[F,u(A,{modelValue:b(m).account,"onUpdate:modelValue":o[0]||(o[0]=e=>b(m).account=e),onChange:w},{default:p((()=>[u(g,{label:"admin"}),u(g,{label:"test"})])),_:1},8,["modelValue"]),G,f("div",null,v(b(m).permissions),1),P,f("div",null,[u(Z,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":p((()=>[u(E,{type:"danger"},{default:p((()=>[S])),_:1})])),default:p((()=>[u(E,null,{default:p((()=>[R])),_:1})])),_:1}),u(Z,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":p((()=>[u(E,{type:"danger"},{default:p((()=>[U])),_:1})])),default:p((()=>[u(E,null,{default:p((()=>[T])),_:1})])),_:1}),u(Z,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":p((()=>[u(E,{type:"danger"},{default:p((()=>[z])),_:1})])),default:p((()=>[u(E,null,{default:p((()=>[q])),_:1})])),_:1},8,["value"]),u(ee,{value:["permission.browse","permission.create"]},{"no-auth":p((()=>[u(E,{type:"danger"},{default:p((()=>[D])),_:1})])),default:p((()=>[u(E,null,{default:p((()=>[B])),_:1})])),_:1},8,["value"])]),H,f("div",null,[h((s(),a("div",null,J)),[[re,"permission.browse"]]),h((s(),a("div",null,K)),[[re,"permission.create"]]),h((s(),a("div",null,L)),[[re,["permission.browse","permission.create"]]]),h((s(),a("div",null,M)),[[oe,["permission.browse","permission.create"]]])]),N,f("div",null,[u(ae,{style:{display:"block","margin-bottom":"10px"}},{default:p((()=>[u(se,{onClick:o[1]||(o[1]=e=>$("permission.browse"))},{default:p((()=>[Q])),_:1}),u(se,{onClick:o[2]||(o[2]=e=>$("permission.create"))},{default:p((()=>[W])),_:1})])),_:1}),u(ae,null,{default:p((()=>[u(se,{onClick:o[3]||(o[3]=e=>$(["permission.browse","permission.create"]))},{default:p((()=>[X])),_:1}),u(se,{onClick:o[4]||(o[4]=e=>{return s=["permission.browse","permission.create"],void(i.$authAll(s)?_.success("校验通过"):_.error("校验不通过"));var s})},{default:p((()=>[Y])),_:1})])),_:1})])])):(s(),a("div",I,"请到 seeting.js 里打开权限功能，再进入该页面查看演示"))])),_:1})])}}};"function"==typeof m&&m(Z);export{Z as default};
