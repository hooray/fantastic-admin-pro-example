
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
import{d as e,b as s,f as i,d3 as r,g as o,v as a,x as n,a5 as t,co as l,h as u,w as p,bH as m,c6 as d,i as c,D as b,Q as f,F as v,a1 as w,a8 as _,c5 as g,H as y}from"./index.61feeb3e.js";import{_ as h}from"./index.fbe7c129.js";/* empty css               *//* empty css                       *//* empty css                        */import"./el-loading.68825c60.js";import{E as x,a as j}from"./index.392386ee.js";import{E as k}from"./index.e337c259.js";import{E as C}from"./index.457a534c.js";import"./event.fa25aaef.js";const A=e({name:"AuthAll"}),$=Object.assign(A,{props:{value:{type:Array,default:()=>[]}},setup(e){const a=e;return(e,n)=>(s(),i("div",null,[r(a.value)?o(e.$slots,"default",{key:0}):o(e.$slots,"no-auth",{key:1})]))}}),E={key:0},V={key:1},H=b("h3",null,"切换帐号",-1),D=b("h3",null,"帐号权限",-1),F=b("h3",null,"鉴权组件（请对照代码查看）",-1),O=w("你有 permission.browse 权限"),P=w("你没有 permission.browse 权限"),Q=w("你有 permission.create 权限"),T=w("你没有 permission.create 权限"),U=w("你有 permission.browse 或 permission.create 权限"),q=w("你没有 permission.browse 或 permission.create 权限"),z=w("你有 permission.browse 和 permission.create 权限"),B=w("你没有 permission.browse 和 permission.create 权限"),G=b("h3",null,"鉴权指令（请对照代码查看）",-1),I=[w(" 如果你有 permission.browse 权限则能看到这句话 ")],J=[w(" 如果你有 permission.create 权限则能看到这句话 ")],K=[w(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")],L=[w(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")],M=b("h3",null,"鉴权函数（请对照代码查看）",-1),N=w("校验 permission.browse 权限"),R=w("校验 permission.create 权限"),S=w("校验 permission.browse 或 permission.create 权限"),W=w("校验 permission.browse 和 permission.create 权限"),X={__name:"index",setup(e){const{proxy:r}=y(),o=a(),m=n();function w(e){C.service({lock:!0,text:"帐号切换中",background:"rgba(0, 0, 0, 0.7)"}),m.login({account:e,password:""}).then((()=>{setTimeout((()=>{location.reload()}),1e3)}))}function A(e){r.$auth(e)?_.success("校验通过"):_.error("校验不通过")}return(e,a)=>{const n=g,y=x,C=j,X=k,Y=h,Z=$,ee=t,se=l,ie=d,re=h,oe=$;return s(),i("div",null,[u(n,{title:"权限验证"}),u(ie,null,{default:p((()=>[c(o).app.enablePermission?(s(),i("div",V,[H,u(C,{modelValue:c(m).account,"onUpdate:modelValue":a[0]||(a[0]=e=>c(m).account=e),onChange:w},{default:p((()=>[u(y,{label:"admin"}),u(y,{label:"test"})])),_:1},8,["modelValue"]),D,b("div",null,f(c(m).permissions),1),F,b("div",null,[u(Y,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":p((()=>[u(X,{type:"danger"},{default:p((()=>[P])),_:1})])),default:p((()=>[u(X,null,{default:p((()=>[O])),_:1})])),_:1}),u(Y,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":p((()=>[u(X,{type:"danger"},{default:p((()=>[T])),_:1})])),default:p((()=>[u(X,null,{default:p((()=>[Q])),_:1})])),_:1}),u(Y,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":p((()=>[u(X,{type:"danger"},{default:p((()=>[q])),_:1})])),default:p((()=>[u(X,null,{default:p((()=>[U])),_:1})])),_:1},8,["value"]),u(Z,{value:["permission.browse","permission.create"]},{"no-auth":p((()=>[u(X,{type:"danger"},{default:p((()=>[B])),_:1})])),default:p((()=>[u(X,null,{default:p((()=>[z])),_:1})])),_:1},8,["value"])]),G,b("div",null,[v((s(),i("div",null,I)),[[re,"permission.browse"]]),v((s(),i("div",null,J)),[[re,"permission.create"]]),v((s(),i("div",null,K)),[[re,["permission.browse","permission.create"]]]),v((s(),i("div",null,L)),[[oe,["permission.browse","permission.create"]]])]),M,b("div",null,[u(se,{style:{display:"block","margin-bottom":"10px"}},{default:p((()=>[u(ee,{onClick:a[1]||(a[1]=e=>A("permission.browse"))},{default:p((()=>[N])),_:1}),u(ee,{onClick:a[2]||(a[2]=e=>A("permission.create"))},{default:p((()=>[R])),_:1})])),_:1}),u(se,null,{default:p((()=>[u(ee,{onClick:a[3]||(a[3]=e=>A(["permission.browse","permission.create"]))},{default:p((()=>[S])),_:1}),u(ee,{onClick:a[4]||(a[4]=e=>{return s=["permission.browse","permission.create"],void(r.$authAll(s)?_.success("校验通过"):_.error("校验不通过"));var s})},{default:p((()=>[W])),_:1})])),_:1})])])):(s(),i("div",E,"请到 seeting.js 里打开权限功能，再进入该页面查看演示"))])),_:1})])}}};"function"==typeof m&&m(X);export{X as default};
