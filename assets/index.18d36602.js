
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
import{d as e,b as s,f as a,g as i,da as r,v as o,x as t,a8 as n,cq as l,h as u,w as p,bM as m,bO as d,c9 as c,i as b,J as f,R as v,K as w,a2 as h,a5 as _,bN as y,O as g}from"./index.14f3ec2e.js";/* empty css               *//* empty css                       *//* empty css                        */import"./el-loading.b73130c8.js";import{E as k,a as x}from"./index.6a6be2fd.js";import{E as j}from"./index.11de98f0.js";import{E as A}from"./index.bd0cae09.js";import"./event.d298a7ab.js";const $=e({name:"AuthAll"}),C=Object.assign($,{props:{value:{type:Array,default:()=>[]}},setup(e){const o=e;return(e,t)=>(s(),a("div",null,[r().authAll(o.value)?i(e.$slots,"default",{key:0}):i(e.$slots,"no-auth",{key:1})]))}}),O=e({name:"Auth"}),E=Object.assign(O,{props:{value:{type:[String,Array],default:""}},setup(e){const o=e;return(e,t)=>(s(),a("div",null,[r().auth(o.value)?i(e.$slots,"default",{key:0}):i(e.$slots,"no-auth",{key:1})]))}}),V={key:0},q={key:1},J=f("h3",null,"切换帐号",-1),K=f("h3",null,"帐号权限",-1),M=f("h3",null,"鉴权组件（请对照代码查看）",-1),N=h("你有 permission.browse 权限"),P=h("你没有 permission.browse 权限"),R=h("你有 permission.create 权限"),S=h("你没有 permission.create 权限"),T=h("你有 permission.browse 或 permission.create 权限"),U=h("你没有 permission.browse 或 permission.create 权限"),z=h("你有 permission.browse 和 permission.create 权限"),B=h("你没有 permission.browse 和 permission.create 权限"),D=f("h3",null,"鉴权指令（请对照代码查看）",-1),F=[h(" 如果你有 permission.browse 权限则能看到这句话 ")],G=[h(" 如果你有 permission.create 权限则能看到这句话 ")],H=[h(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")],I=[h(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")],L=f("h3",null,"鉴权函数（请对照代码查看）",-1),Q=h("校验 permission.browse 权限"),W=h("校验 permission.create 权限"),X=h("校验 permission.browse 或 permission.create 权限"),Y=h("校验 permission.browse 和 permission.create 权限"),Z={__name:"index",setup(e){const{proxy:i}=g(),r=o(),m=t();function h(e){A.service({lock:!0,text:"帐号切换中",background:"rgba(0, 0, 0, 0.7)"}),m.login({account:e,password:""}).then((()=>{setTimeout((()=>{location.reload()}),1e3)}))}function $(e){i.$auth(e)?_.success("校验通过"):_.error("校验不通过")}return(e,o)=>{const t=y,g=k,A=x,O=j,Z=E,ee=C,se=n,ae=l,ie=d,re=c("auth"),oe=c("auth-all");return s(),a("div",null,[u(t,{title:"权限验证"}),u(ie,null,{default:p((()=>[b(r).app.enablePermission?(s(),a("div",q,[J,u(A,{modelValue:b(m).account,"onUpdate:modelValue":o[0]||(o[0]=e=>b(m).account=e),onChange:h},{default:p((()=>[u(g,{label:"admin"}),u(g,{label:"test"})])),_:1},8,["modelValue"]),K,f("div",null,v(b(m).permissions),1),M,f("div",null,[u(Z,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":p((()=>[u(O,{type:"danger"},{default:p((()=>[P])),_:1})])),default:p((()=>[u(O,null,{default:p((()=>[N])),_:1})])),_:1}),u(Z,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":p((()=>[u(O,{type:"danger"},{default:p((()=>[S])),_:1})])),default:p((()=>[u(O,null,{default:p((()=>[R])),_:1})])),_:1}),u(Z,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":p((()=>[u(O,{type:"danger"},{default:p((()=>[U])),_:1})])),default:p((()=>[u(O,null,{default:p((()=>[T])),_:1})])),_:1},8,["value"]),u(ee,{value:["permission.browse","permission.create"]},{"no-auth":p((()=>[u(O,{type:"danger"},{default:p((()=>[B])),_:1})])),default:p((()=>[u(O,null,{default:p((()=>[z])),_:1})])),_:1},8,["value"])]),D,f("div",null,[w((s(),a("div",null,F)),[[re,"permission.browse"]]),w((s(),a("div",null,G)),[[re,"permission.create"]]),w((s(),a("div",null,H)),[[re,["permission.browse","permission.create"]]]),w((s(),a("div",null,I)),[[oe,["permission.browse","permission.create"]]])]),L,f("div",null,[u(ae,{style:{display:"block","margin-bottom":"10px"}},{default:p((()=>[u(se,{onClick:o[1]||(o[1]=e=>$("permission.browse"))},{default:p((()=>[Q])),_:1}),u(se,{onClick:o[2]||(o[2]=e=>$("permission.create"))},{default:p((()=>[W])),_:1})])),_:1}),u(ae,null,{default:p((()=>[u(se,{onClick:o[3]||(o[3]=e=>$(["permission.browse","permission.create"]))},{default:p((()=>[X])),_:1}),u(se,{onClick:o[4]||(o[4]=e=>{return s=["permission.browse","permission.create"],void(i.$authAll(s)?_.success("校验通过"):_.error("校验不通过"));var s})},{default:p((()=>[Y])),_:1})])),_:1})])])):(s(),a("div",V,"请到 seeting.js 里打开权限功能，再进入该页面查看演示"))])),_:1})])}}};"function"==typeof m&&m(Z);export{Z as default};
