
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
import{a8 as e,aM as a,ay as i,ac as t,aD as l,aP as n,d as s,aU as o,aW as c,u as r,b7 as v,c as d,aV as u,aX as f,r as p,ad as m,y as h,b0 as y,o as b,b as g,f as k,G as x,i as I,n as w,X as V,e as C,w as S,J as T,E as _,m as B,M as N,N as E,h as P,bf as j,k as U,l as F,_ as K,aw as M,aF as X,bg as q,t as z,q as A}from"./index.45a1a0f2.js";import{i as D}from"./validator.d7f5f1e8.js";import{U as G,C as J,I as W}from"./event.d298a7ab.js";const H=e({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:a,default:""},inactiveIcon:{type:a,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:i(Function)},size:{type:String,validator:D},tabindex:{type:[String,Number]}}),L=["onClick"],O=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Q=["aria-hidden"],R=["aria-hidden"],Y=["aria-hidden"],Z=["aria-hidden"];const $=A(K(s({name:"ElSwitch",props:H,emits:{[G]:e=>t(e)||l(e)||n(e),[J]:e=>t(e)||l(e)||n(e),[W]:e=>t(e)||l(e)||n(e)},setup(e,{expose:a,emit:i}){const l=e,n="ElSwitch",s=M(),{formItem:K}=o(),A=c(),D=r("switch");v({from:'"value"',replacement:'"model-value" or "v-model"',scope:n,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},d((()=>{var e;return!!(null==(e=s.vnode.props)?void 0:e.value)})));const{inputId:H}=u(l,{formItemContext:K}),$=f(d((()=>l.loading))),ee=p(!1!==l.modelValue),ae=p(),ie=p(),te=d((()=>[D.b(),D.m(A.value),D.is("disabled",$.value),D.is("checked",se.value)])),le=d((()=>({width:m(l.width)})));h((()=>l.modelValue),(()=>{ee.value=!0})),h((()=>l.value),(()=>{ee.value=!1}));const ne=d((()=>ee.value?l.modelValue:l.value)),se=d((()=>ne.value===l.activeValue));[l.activeValue,l.inactiveValue].includes(ne.value)||(i(G,l.inactiveValue),i(J,l.inactiveValue),i(W,l.inactiveValue)),h(se,(e=>{var a;ae.value.checked=e,l.validateEvent&&(null==(a=null==K?void 0:K.validate)||a.call(K,"change").catch((e=>y())))}));const oe=()=>{const e=se.value?l.inactiveValue:l.activeValue;i(G,e),i(J,e),i(W,e),X((()=>{ae.value.checked=se.value}))},ce=()=>{if($.value)return;const{beforeChange:e}=l;if(!e)return void oe();const a=e();[q(a),t(a)].includes(!0)||z(n,"beforeChange must return type `Promise<boolean>` or `boolean`"),q(a)?a.then((e=>{e&&oe()})).catch((e=>{})):a&&oe()},re=d((()=>D.cssVarBlock({...l.activeColor?{"on-color":l.activeColor}:null,...l.inactiveColor?{"off-color":l.inactiveColor}:null,...l.borderColor?{"border-color":l.borderColor}:null})));return b((()=>{ae.value.checked=se.value})),a({focus:()=>{var e,a;null==(a=null==(e=ae.value)?void 0:e.focus)||a.call(e)}}),(e,a)=>(g(),k("div",{class:w(I(te)),style:U(I(re)),onClick:F(ce,["prevent"])},[x("input",{id:I(H),ref_key:"input",ref:ae,class:w(I(D).e("input")),type:"checkbox",role:"switch","aria-checked":I(se),"aria-disabled":I($),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:I($),tabindex:e.tabindex,onChange:oe,onKeydown:V(ce,["enter"])},null,42,O),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?B("v-if",!0):(g(),k("span",{key:0,class:w([I(D).e("label"),I(D).em("label","left"),I(D).is("active",!I(se))])},[e.inactiveIcon?(g(),C(I(_),{key:0},{default:S((()=>[(g(),C(T(e.inactiveIcon)))])),_:1})):B("v-if",!0),!e.inactiveIcon&&e.inactiveText?(g(),k("span",{key:1,"aria-hidden":I(se)},N(e.inactiveText),9,Q)):B("v-if",!0)],2)),x("span",{ref_key:"core",ref:ie,class:w(I(D).e("core")),style:U(I(le))},[e.inlinePrompt?(g(),k("div",{key:0,class:w(I(D).e("inner"))},[e.activeIcon||e.inactiveIcon?(g(),k(E,{key:0},[e.activeIcon?(g(),C(I(_),{key:0,class:w([I(D).is("icon"),I(se)?I(D).is("show"):I(D).is("hide")])},{default:S((()=>[(g(),C(T(e.activeIcon)))])),_:1},8,["class"])):B("v-if",!0),e.inactiveIcon?(g(),C(I(_),{key:1,class:w([I(D).is("icon"),I(se)?I(D).is("hide"):I(D).is("show")])},{default:S((()=>[(g(),C(T(e.inactiveIcon)))])),_:1},8,["class"])):B("v-if",!0)],64)):e.activeText||e.inactiveIcon?(g(),k(E,{key:1},[e.activeText?(g(),k("span",{key:0,class:w([I(D).is("text"),I(se)?I(D).is("show"):I(D).is("hide")]),"aria-hidden":!I(se)},N(e.activeText.substring(0,3)),11,R)):B("v-if",!0),e.inactiveText?(g(),k("span",{key:1,class:w([I(D).is("text"),I(se)?I(D).is("hide"):I(D).is("show")]),"aria-hidden":I(se)},N(e.inactiveText.substring(0,3)),11,Y)):B("v-if",!0)],64)):B("v-if",!0)],2)):B("v-if",!0),x("div",{class:w(I(D).e("action"))},[e.loading?(g(),C(I(_),{key:0,class:w(I(D).is("loading"))},{default:S((()=>[P(I(j))])),_:1},8,["class"])):B("v-if",!0)],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?B("v-if",!0):(g(),k("span",{key:1,class:w([I(D).e("label"),I(D).em("label","right"),I(D).is("active",I(se))])},[e.activeIcon?(g(),C(I(_),{key:0},{default:S((()=>[(g(),C(T(e.activeIcon)))])),_:1})):B("v-if",!0),!e.activeIcon&&e.activeText?(g(),k("span",{key:1,"aria-hidden":!I(se)},N(e.activeText),9,Z)):B("v-if",!0)],2))],14,L))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]));export{$ as E};
