
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
import{d as e,u as a,av as l,E as t,cK as n,bf as s,ar as o,U as i,c as d,_ as r,F as c,b as u,f as p,m as h,e as v,l as m,w as f,h as g,n as b,N as k,G as y,ca as C,b8 as x,r as V,cJ as w,Z as E,Y as S,M as N,aw as $,cy as L,b$ as D,bE as T,bF as _,b3 as P,at as I,as as z,y as M,V as H,o as B,aF as F,b4 as j,c9 as A,al as K,a6 as q,b2 as O,aq as R,ab as U,b_ as Z,c0 as W,aW as X,b0 as G,c8 as J,bg as Y,aB as Q,cc as ee,H as ae,X as le,cd as te,k as ne,I as se,g as oe,A as ie,cL as de,i as re,ba as ce}from"./index.3b0b287f.js";import{E as ue,i as pe}from"./el-input.a46c7a98.js";/* empty css               */import{E as he}from"./el-checkbox.583cc7e2.js";/* empty css                 */import{b as ve}from"./index.ad1f103b.js";import{l as me}from"./isEqual.0e04c4ea.js";import{i as fe,f as ge,g as be}from"./aria.288df782.js";import{U as ke,C as ye}from"./event.d298a7ab.js";import{u as Ce,c as xe}from"./arrays.21a21ad5.js";import{b as Ve}from"./_baseFlatten.b75f80cd.js";import{E as we,t as Ee}from"./index.b5881ee8.js";import{C as Se}from"./index.4e3493cb.js";import{i as Ne}from"./validator.9bc318fa.js";var $e=e({name:"NodeContent",setup:()=>({ns:a("cascader-node")}),render(){const{ns:e}=this,{node:a,panel:t}=this.$parent,{data:n,label:s}=a,{renderLabelFn:o}=t;return l("span",{class:e.e("label")},o?o({node:a,data:n}):s)}});const Le=Symbol(),De=e({name:"ElCascaderNode",components:{ElCheckbox:he,ElRadio:ve,NodeContent:$e,ElIcon:t,Check:n,Loading:s,ArrowRight:o},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:l}){const t=i(Le),n=a("cascader-node"),s=d((()=>t.isHoverMenu)),o=d((()=>t.config.multiple)),r=d((()=>t.config.checkStrictly)),c=d((()=>{var e;return null==(e=t.checkedNodes[0])?void 0:e.uid})),u=d((()=>e.node.isDisabled)),p=d((()=>e.node.isLeaf)),h=d((()=>r.value&&!p.value||!u.value)),v=d((()=>f(t.expandingNode))),m=d((()=>r.value&&t.checkedNodes.some(f))),f=a=>{var l;const{level:t,uid:n}=e.node;return(null==(l=null==a?void 0:a.pathNodes[t-1])?void 0:l.uid)===n},g=()=>{v.value||t.expandNode(e.node)},b=a=>{const{node:l}=e;a!==l.checked&&t.handleCheckChange(l,a)},k=()=>{t.lazyLoad(e.node,(()=>{p.value||g()}))},y=()=>{const{node:a}=e;h.value&&!a.loading&&(a.loaded?g():k())},C=a=>{e.node.loaded?(b(a),!r.value&&g()):k()};return{panel:t,isHoverMenu:s,multiple:o,checkStrictly:r,checkedNodeId:c,isDisabled:u,isLeaf:p,expandable:h,inExpandingPath:v,inCheckedPath:m,ns:n,handleHoverExpand:e=>{s.value&&(y(),!p.value&&l("expand",e))},handleExpand:y,handleClick:()=>{s.value&&!p.value||(!p.value||u.value||r.value||o.value?y():C(!0))},handleCheck:C,handleSelectCheck:a=>{r.value?(b(a),e.node.loaded&&g()):C(a)}}}}),Te=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],_e=y("span",null,null,-1);var Pe=r(e({name:"ElCascaderMenu",components:{Loading:s,ElIcon:t,ElScrollbar:C,ElCascaderNode:r(De,[["render",function(e,a,l,t,n,s){const o=c("el-checkbox"),i=c("el-radio"),d=c("check"),r=c("el-icon"),y=c("node-content"),C=c("loading"),x=c("arrow-right");return u(),p("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:b([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:a[2]||(a[2]=(...a)=>e.handleHoverExpand&&e.handleHoverExpand(...a)),onFocus:a[3]||(a[3]=(...a)=>e.handleHoverExpand&&e.handleHoverExpand(...a)),onClick:a[4]||(a[4]=(...a)=>e.handleClick&&e.handleClick(...a))},[h(" prefix "),e.multiple?(u(),v(o,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:a[0]||(a[0]=m((()=>{}),["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(u(),v(i,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:a[1]||(a[1]=m((()=>{}),["stop"]))},{default:f((()=>[h("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),_e])),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(u(),v(r,{key:2,class:b(e.ns.e("prefix"))},{default:f((()=>[g(d)])),_:1},8,["class"])):h("v-if",!0),h(" content "),g(y),h(" postfix "),e.isLeaf?h("v-if",!0):(u(),p(k,{key:3},[e.node.loading?(u(),v(r,{key:0,class:b([e.ns.is("loading"),e.ns.e("postfix")])},{default:f((()=>[g(C)])),_:1},8,["class"])):(u(),v(r,{key:1,class:b(["arrow-right",e.ns.e("postfix")])},{default:f((()=>[g(x)])),_:1},8,["class"]))],64))],42,Te)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]])},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const l=$(),t=a("cascader-menu"),{t:n}=x(),s=w();let o=null,r=null;const c=i(Le),u=V(null),p=d((()=>!e.nodes.length)),h=d((()=>!c.initialLoaded)),v=d((()=>`cascader-menu-${s}-${e.index}`)),m=()=>{r&&(clearTimeout(r),r=null)},f=()=>{u.value&&(u.value.innerHTML="",m())};return{ns:t,panel:c,hoverZone:u,isEmpty:p,isLoading:h,menuId:v,t:n,handleExpand:e=>{o=e.target},handleMouseMove:e=>{if(c.isHoverMenu&&o&&u.value)if(o.contains(e.target)){m();const a=l.vnode.el,{left:t}=a.getBoundingClientRect(),{offsetWidth:n,offsetHeight:s}=a,i=e.clientX-t,d=o.offsetTop,r=d+o.offsetHeight;u.value.innerHTML=`\n          <path style="pointer-events: auto;" fill="transparent" d="M${i} ${d} L${n} 0 V${d} Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M${i} ${r} L${n} ${s} V${r} Z" />\n        `}else r||(r=window.setTimeout(f,c.config.hoverThreshold))},clearHoverZone:f}}}),[["render",function(e,a,l,t,n,s){const o=c("el-cascader-node"),i=c("loading"),d=c("el-icon"),r=c("el-scrollbar");return u(),v(r,{key:e.menuId,tag:"ul",role:"menu",class:b(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:f((()=>{var a;return[(u(!0),p(k,null,E(e.nodes,(a=>(u(),v(o,{key:a.uid,node:a,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"])))),128)),e.isLoading?(u(),p("div",{key:0,class:b(e.ns.e("empty-text"))},[g(d,{size:"14",class:b(e.ns.is("loading"))},{default:f((()=>[g(i)])),_:1},8,["class"]),S(" "+N(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(u(),p("div",{key:1,class:b(e.ns.e("empty-text"))},N(e.t("el.cascader.noData")),3)):(null==(a=e.panel)?void 0:a.isHoverMenu)?(u(),p("svg",{key:2,ref:"hoverZone",class:b(e.ns.e("hover-zone"))},null,2)):h("v-if",!0)]})),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]),Ie=(e=>(e.CLICK="click",e.HOVER="hover",e))(Ie||{});let ze=0;class Me{constructor(e,a,l,t=!1){this.data=e,this.config=a,this.parent=l,this.root=t,this.uid=ze++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:n,label:s,children:o}=a,i=e[o],d=(e=>{const a=[e];let{parent:l}=e;for(;l;)a.unshift(l),l=l.parent;return a})(this);this.level=t?0:l?l.level+1:1,this.value=e[n],this.label=e[s],this.pathNodes=d,this.pathValues=d.map((e=>e.value)),this.pathLabels=d.map((e=>e.label)),this.childrenData=i,this.children=(i||[]).map((e=>new Me(e,a,this))),this.loaded=!a.lazy||this.isLeaf||!L(i)}get isDisabled(){const{data:e,parent:a,config:l}=this,{disabled:t,checkStrictly:n}=l;return(D(t)?t(e,this):!!e[t])||!n&&(null==a?void 0:a.isDisabled)}get isLeaf(){const{data:e,config:a,childrenData:l,loaded:t}=this,{lazy:n,leaf:s}=a,o=D(s)?s(e,this):e[s];return T(o)?!(n&&!t)&&!(Array.isArray(l)&&l.length):!!o}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:a,children:l}=this,t=new Me(e,this.config,this);return Array.isArray(a)?a.push(e):this.childrenData=[e],l.push(t),t}calcText(e,a){const l=e?this.pathLabels.join(a):this.label;return this.text=l,l}broadcast(e,...a){const l=`onParent${_(e)}`;this.children.forEach((t=>{t&&(t.broadcast(e,...a),t[l]&&t[l](...a))}))}emit(e,...a){const{parent:l}=this,t=`onChild${_(e)}`;l&&(l[t]&&l[t](...a),l.emit(e,...a))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,a=e.filter((e=>!e.isDisabled)),l=!!a.length&&a.every((e=>e.checked));this.setCheckState(l)}setCheckState(e){const a=this.children.length,l=this.children.reduce(((e,a)=>e+(a.checked?1:a.indeterminate?.5:0)),0);this.checked=this.loaded&&this.children.filter((e=>!e.isDisabled)).every((e=>e.loaded&&e.checked))&&e,this.indeterminate=this.loaded&&l!==a&&l>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:a,multiple:l}=this.config;a||!l?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}}const He=(e,a)=>e.reduce(((e,l)=>(l.isLeaf?e.push(l):(!a&&e.push(l),e=e.concat(He(l.children,a))),e)),[]);class Be{constructor(e,a){this.config=a;const l=(e||[]).map((e=>new Me(e,this.config)));this.nodes=l,this.allNodes=He(l,!1),this.leafNodes=He(l,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,a){const l=a?a.appendChild(e):new Me(e,this.config);a||this.nodes.push(l),this.allNodes.push(l),l.isLeaf&&this.leafNodes.push(l)}appendNodes(e,a){e.forEach((e=>this.appendNode(e,a)))}getNodeByValue(e,a=!1){if(!e&&0!==e)return null;return this.getFlattedNodes(a).find((a=>me(a.value,e)||me(a.pathValues,e)))||null}getSameNode(e){if(!e)return null;return this.getFlattedNodes(!1).find((({value:a,level:l})=>me(e.value,a)&&e.level===l))||null}}const Fe={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},je={expandTrigger:Ie.CLICK,multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:P,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Ae=e=>{if(!e)return 0;const a=e.id.split("-");return Number(a[a.length-2])};var Ke=r(e({name:"ElCascaderPanel",components:{ElCascaderMenu:Pe},props:{...Fe,border:{type:Boolean,default:!0},renderLabel:Function},emits:[ke,ye,"close","expand-change"],setup(e,{emit:l,slots:t}){let n=!1;const s=a("cascader"),o=(e=>d((()=>({...je,...e.props}))))(e);let i=null;const r=V(!0),c=V([]),u=V(null),p=V([]),h=V(null),v=V([]),m=d((()=>o.value.expandTrigger===Ie.HOVER)),f=d((()=>e.renderLabel||t.default)),g=(e,a)=>{const l=o.value;(e=e||new Me({},l,void 0,!0)).loading=!0;l.lazyLoad(e,(l=>{const t=e,n=t.root?null:t;l&&(null==i||i.appendNodes(l,n)),t.loading=!1,t.loaded=!0,t.childrenData=t.childrenData||[],a&&a(l)}))},b=(e,a)=>{var t;const{level:n}=e,s=p.value.slice(0,n);let o;e.isLeaf?o=e.pathNodes[n-2]:(o=e,s.push(e.children)),(null==(t=h.value)?void 0:t.uid)!==(null==o?void 0:o.uid)&&(h.value=e,p.value=s,!a&&l("expand-change",(null==e?void 0:e.pathValues)||[]))},k=(e,a,t=!0)=>{const{checkStrictly:s,multiple:i}=o.value,d=v.value[0];n=!0,!i&&(null==d||d.doCheck(!1)),e.doCheck(a),w(),t&&!i&&!s&&l("close"),!t&&!i&&!s&&y(e)},y=e=>{e&&(e=e.parent,y(e),e&&b(e))},C=e=>null==i?void 0:i.getFlattedNodes(e),x=e=>{var a;return null==(a=C(e))?void 0:a.filter((e=>!1!==e.checked))},w=()=>{var e;const{checkStrictly:a,multiple:l}=o.value,t=((e,a)=>{const l=a.slice(0),t=l.map((e=>e.uid)),n=e.reduce(((e,a)=>{const n=t.indexOf(a.uid);return n>-1&&(e.push(a),l.splice(n,1),t.splice(n,1)),e}),[]);return n.push(...l),n})(v.value,x(!a)),n=t.map((e=>e.valueByOption));v.value=t,u.value=l?n:null!=(e=n[0])?e:null},E=(a=!1,l=!1)=>{const{modelValue:t}=e,{lazy:s,multiple:d,checkStrictly:c}=o.value,p=!c;var h;if(r.value&&!n&&(l||!me(t,u.value)))if(s&&!a){const e=Ce(null!=(h=xe(t))&&h.length?Ve(h,1/0):[]).map((e=>null==i?void 0:i.getNodeByValue(e))).filter((e=>!!e&&!e.loaded&&!e.loading));e.length?e.forEach((e=>{g(e,(()=>E(!1,l)))})):E(!0,l)}else{const e=d?xe(t):[t],a=Ce(e.map((e=>null==i?void 0:i.getNodeByValue(e,p))));S(a,l),u.value=t}},S=(e,a=!0)=>{const{checkStrictly:l}=o.value,t=v.value,n=e.filter((e=>!!e&&(l||e.isLeaf))),s=null==i?void 0:i.getSameNode(h.value),d=a&&s||n[0];d?d.pathNodes.forEach((e=>b(e,!0))):h.value=null,t.forEach((e=>e.doCheck(!1))),n.forEach((e=>e.doCheck(!0))),v.value=n,F(N)},N=()=>{j&&c.value.forEach((e=>{const a=null==e?void 0:e.$el;if(a){const e=a.querySelector(`.${s.namespace.value}-scrollbar__wrap`),l=a.querySelector(`.${s.b("node")}.${s.is("active")}`)||a.querySelector(`.${s.b("node")}.in-active-path`);A(e,l)}}))};return I(Le,z({config:o,expandingNode:h,checkedNodes:v,isHoverMenu:m,initialLoaded:r,renderLabelFn:f,lazyLoad:g,expandNode:b,handleCheckChange:k})),M([o,()=>e.options],(()=>{const{options:a}=e,l=o.value;n=!1,i=new Be(a,l),p.value=[i.getNodes()],l.lazy&&L(e.options)?(r.value=!1,g(void 0,(e=>{e&&(i=new Be(e,l),p.value=[i.getNodes()]),r.value=!0,E(!1,!0)}))):E(!1,!0)}),{deep:!0,immediate:!0}),M((()=>e.modelValue),(()=>{n=!1,E()})),M(u,(a=>{me(a,e.modelValue)||(l(ke,a),l(ye,a))})),H((()=>c.value=[])),B((()=>!L(e.modelValue)&&E())),{ns:s,menuList:c,menus:p,checkedNodes:v,handleKeyDown:e=>{const a=e.target,{code:l}=e;switch(l){case K.up:case K.down:{e.preventDefault();const t=l===K.up?-1:1;ge(be(a,t,`.${s.b("node")}[tabindex="-1"]`));break}case K.left:{e.preventDefault();const l=c.value[Ae(a)-1],t=null==l?void 0:l.$el.querySelector(`.${s.b("node")}[aria-expanded="true"]`);ge(t);break}case K.right:{e.preventDefault();const l=c.value[Ae(a)+1],t=null==l?void 0:l.$el.querySelector(`.${s.b("node")}[tabindex="-1"]`);ge(t);break}case K.enter:(e=>{if(!e)return;const a=e.querySelector("input");a?a.click():fe(e)&&e.click()})(a)}},handleCheckChange:k,getFlattedNodes:C,getCheckedNodes:x,clearCheckedNodes:()=>{v.value.forEach((e=>e.doCheck(!1))),w()},calculateCheckedValue:w,scrollToExpandingNode:N}}}),[["render",function(e,a,l,t,n,s){const o=c("el-cascader-menu");return u(),p("div",{class:b([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:a[0]||(a[0]=(...a)=>e.handleKeyDown&&e.handleKeyDown(...a))},[(u(!0),p(k,null,E(e.menus,((a,l)=>(u(),v(o,{key:l,ref_for:!0,ref:a=>e.menuList[l]=a,index:l,nodes:[...a]},null,8,["index","nodes"])))),128))],34)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);Ke.install=e=>{e.component(Ke.name,Ke)};const qe={large:36,default:32,small:28},Oe={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:a,placement:l}=e;["right","left","bottom","top"].includes(l)||(a.arrow.x=35)},requires:["arrow"]}]},Re=e({name:"ElCascader",components:{ElCascaderPanel:Ke,ElInput:ue,ElTooltip:q,ElScrollbar:C,ElTag:we,ElIcon:t,CircleClose:O,Check:n,ArrowDown:R},directives:{Clickoutside:Se},props:{...Fe,size:{type:String,validator:Ne},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(e,a)=>e.text.includes(a)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},teleported:U.teleported,tagType:{...Ee.type,default:"info"},validateEvent:{type:Boolean,default:!0}},emits:[ke,ye,"focus","blur","visible-change","expand-change","remove-tag"],setup(e,{emit:l}){let t=0,n=0;const s=a("cascader"),o=a("input"),{t:r}=x(),c=i(Z,{}),u=i(W,{}),p=V(null),h=V(null),v=V(null),m=V(null),f=V(null),g=V(!1),b=V(!1),k=V(!1),y=V(""),C=V(""),w=V([]),E=V([]),S=V([]),N=V(!1),$=d((()=>e.disabled||c.disabled)),L=d((()=>e.placeholder||r("el.cascader.placeholder"))),D=X(),T=d((()=>["small"].includes(D.value)?"small":"default")),_=d((()=>!!e.props.multiple)),P=d((()=>!e.filterable||_.value)),I=d((()=>_.value?C.value:y.value)),z=d((()=>{var e;return(null==(e=m.value)?void 0:e.checkedNodes)||[]})),H=d((()=>!(!e.clearable||$.value||k.value||!b.value)&&!!z.value.length)),A=d((()=>{const{showAllLevels:a,separator:l}=e,t=z.value;return t.length?_.value?" ":t[0].calcText(a,l):""})),q=d({get:()=>e.modelValue,set(a){var t;l(ke,a),l(ye,a),e.validateEvent&&(null==(t=u.validate)||t.call(u,"change").catch((e=>G())))}}),O=d((()=>{var e,a;return null==(a=null==(e=p.value)?void 0:e.popperRef)?void 0:a.contentRef})),R=a=>{var t,n,s;if(!$.value&&(a=null!=a?a:!g.value)!==g.value){if(g.value=a,null==(n=null==(t=h.value)?void 0:t.input)||n.setAttribute("aria-expanded",`${a}`),a)U(),F(null==(s=m.value)?void 0:s.scrollToExpandingNode);else if(e.filterable){const{value:e}=A;y.value=e,C.value=e}l("visible-change",a)}},U=()=>{F((()=>{var e;null==(e=p.value)||e.updatePopper()}))},ee=()=>{k.value=!1},ae=a=>{const{showAllLevels:l,separator:t}=e;return{node:a,key:a.uid,text:a.calcText(l,t),hitState:!1,closable:!$.value&&!a.isDisabled,isCollapseTag:!1}},le=e=>{var a;const t=e.node;t.doCheck(!1),null==(a=m.value)||a.calculateCheckedValue(),l("remove-tag",t.valueByOption)},te=()=>{var a,l;const{filterMethod:t,showAllLevels:n,separator:s}=e,o=null==(l=null==(a=m.value)?void 0:a.getFlattedNodes(!e.props.checkStrictly))?void 0:l.filter((e=>!e.isDisabled&&(e.calcText(n,s),t(e,I.value))));_.value&&(w.value.forEach((e=>{e.hitState=!1})),E.value.forEach((e=>{e.hitState=!1}))),k.value=!0,S.value=o,U()},ne=()=>{var e;let a;a=k.value&&f.value?f.value.$el.querySelector(`.${s.e("suggestion-item")}`):null==(e=m.value)?void 0:e.$el.querySelector(`.${s.b("node")}[tabindex="-1"]`),a&&(a.focus(),!k.value&&a.click())},se=()=>{var e,a;const l=null==(e=h.value)?void 0:e.input,n=v.value,o=null==(a=f.value)?void 0:a.$el;if(j&&l){if(o){o.querySelector(`.${s.e("suggestion-list")}`).style.minWidth=`${l.offsetWidth}px`}if(n){const{offsetHeight:e}=n,a=w.value.length>0?`${Math.max(e+6,t)}px`:`${t}px`;l.style.height=a,U()}}},oe=J((()=>{const{value:a}=I;if(!a)return;const l=e.beforeFilter(a);Y(l)?l.then(te).catch((()=>{})):!1!==l?te():ee()}),e.debounce),ie=(e,a)=>{!g.value&&R(!0),(null==a?void 0:a.isComposing)||(e?oe():ee())};return M(k,U),M([z,$],(()=>{if(!_.value)return;const a=z.value,l=[],t=[];if(a.forEach((e=>t.push(ae(e)))),E.value=t,a.length){const[t,...n]=a,s=n.length;l.push(ae(t)),s&&(e.collapseTags?l.push({key:-1,text:`+ ${s}`,closable:!1,isCollapseTag:!0}):n.forEach((e=>l.push(ae(e)))))}w.value=l})),M(w,(()=>{F((()=>se()))})),M(A,(e=>y.value=e),{immediate:!0}),B((()=>{var e;const a=null==(e=h.value)?void 0:e.$el;t=(null==a?void 0:a.offsetHeight)||qe[D.value]||40,Q(a,se)})),{popperOptions:Oe,tooltipRef:p,popperPaneRef:O,input:h,tagWrapper:v,panel:m,suggestionPanel:f,popperVisible:g,inputHover:b,inputPlaceholder:L,filtering:k,presentText:A,checkedValue:q,inputValue:y,searchInputValue:C,presentTags:w,allPresentTags:E,suggestions:S,isDisabled:$,isOnComposition:N,realSize:D,tagSize:T,multiple:_,readonly:P,clearBtnVisible:H,nsCascader:s,nsInput:o,t:r,togglePopperVisible:R,hideSuggestionPanel:ee,deleteTag:le,focusFirstNode:ne,getCheckedNodes:e=>{var a;return null==(a=m.value)?void 0:a.getCheckedNodes(e)},handleExpandChange:e=>{U(),l("expand-change",e)},handleKeyDown:e=>{if(!N.value)switch(e.code){case K.enter:R();break;case K.down:R(!0),F(ne),e.preventDefault();break;case K.esc:!0===g.value&&(e.preventDefault(),e.stopPropagation(),R(!1));break;case K.tab:R(!1)}},handleComposition:e=>{var a;const l=null==(a=e.target)?void 0:a.value;if("compositionend"===e.type)N.value=!1,F((()=>ie(l)));else{const e=l[l.length-1]||"";N.value=!pe(e)}},handleClear:()=>{var e;null==(e=m.value)||e.clearCheckedNodes(),R(!1)},handleSuggestionClick:e=>{var a,l;const{checked:t}=e;_.value?null==(a=m.value)||a.handleCheckChange(e,!t,!1):(!t&&(null==(l=m.value)||l.handleCheckChange(e,!0,!1)),R(!1))},handleSuggestionKeyDown:e=>{const a=e.target,{code:l}=e;switch(l){case K.up:case K.down:{const e=l===K.up?-1:1;ge(be(a,e,`.${s.e("suggestion-item")}[tabindex="-1"]`));break}case K.enter:a.click()}},handleDelete:()=>{const e=w.value,a=e[e.length-1];n=C.value?0:n+1,a&&n&&(a.hitState?le(a):a.hitState=!0)},handleInput:ie}}}),Ue={key:0},Ze=["placeholder"],We=["onClick"];var Xe=r(Re,[["render",function(e,a,l,t,n,s){const o=c("circle-close"),i=c("el-icon"),d=c("arrow-down"),r=c("el-input"),C=c("el-tag"),x=c("el-tooltip"),V=c("el-cascader-panel"),w=c("check"),S=c("el-scrollbar"),$=ee("clickoutside");return u(),v(x,{ref:"tooltipRef",visible:e.popperVisible,teleported:e.teleported,"popper-class":[e.nsCascader.e("dropdown"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${e.nsCascader.namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:e.hideSuggestionPanel},{default:f((()=>[ae((u(),p("div",{class:b([e.nsCascader.b(),e.nsCascader.m(e.realSize),e.nsCascader.is("disabled",e.isDisabled),e.$attrs.class]),style:ne(e.$attrs.style),onClick:a[11]||(a[11]=()=>e.togglePopperVisible(!e.readonly||void 0)),onKeydown:a[12]||(a[12]=(...a)=>e.handleKeyDown&&e.handleKeyDown(...a)),onMouseenter:a[13]||(a[13]=a=>e.inputHover=!0),onMouseleave:a[14]||(a[14]=a=>e.inputHover=!1)},[g(r,{ref:"input",modelValue:e.inputValue,"onUpdate:modelValue":a[1]||(a[1]=a=>e.inputValue=a),placeholder:e.searchInputValue?"":e.inputPlaceholder,readonly:e.readonly,disabled:e.isDisabled,"validate-event":!1,size:e.realSize,class:b(e.nsCascader.is("focus",e.popperVisible)),onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onFocus:a[2]||(a[2]=a=>e.$emit("focus",a)),onBlur:a[3]||(a[3]=a=>e.$emit("blur",a)),onInput:e.handleInput},{suffix:f((()=>[e.clearBtnVisible?(u(),v(i,{key:"clear",class:b([e.nsInput.e("icon"),"icon-circle-close"]),onClick:m(e.handleClear,["stop"])},{default:f((()=>[g(o)])),_:1},8,["class","onClick"])):(u(),v(i,{key:"arrow-down",class:b([e.nsInput.e("icon"),"icon-arrow-down",e.nsCascader.is("reverse",e.popperVisible)]),onClick:a[0]||(a[0]=m((a=>e.togglePopperVisible()),["stop"]))},{default:f((()=>[g(d)])),_:1},8,["class"]))])),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),e.multiple?(u(),p("div",{key:0,ref:"tagWrapper",class:b(e.nsCascader.e("tags"))},[(u(!0),p(k,null,E(e.presentTags,(a=>(u(),v(C,{key:a.key,type:e.tagType,size:e.tagSize,hit:a.hitState,closable:a.closable,"disable-transitions":"",onClose:l=>e.deleteTag(a)},{default:f((()=>[!1===a.isCollapseTag?(u(),p("span",Ue,N(a.text),1)):(u(),v(x,{key:1,teleported:!1,disabled:e.popperVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:f((()=>[y("span",null,N(a.text),1)])),content:f((()=>[y("div",{class:b(e.nsCascader.e("collapse-tags"))},[(u(!0),p(k,null,E(e.allPresentTags,((a,l)=>(u(),p("div",{key:l,class:b(e.nsCascader.e("collapse-tag"))},[(u(),v(C,{key:a.key,class:"in-tooltip",type:e.tagType,size:e.tagSize,hit:a.hitState,closable:a.closable,"disable-transitions":"",onClose:l=>e.deleteTag(a)},{default:f((()=>[y("span",null,N(a.text),1)])),_:2},1032,["type","size","hit","closable","onClose"]))],2)))),128))],2)])),_:2},1032,["disabled"]))])),_:2},1032,["type","size","hit","closable","onClose"])))),128)),e.filterable&&!e.isDisabled?ae((u(),p("input",{key:0,"onUpdate:modelValue":a[4]||(a[4]=a=>e.searchInputValue=a),type:"text",class:b(e.nsCascader.e("search-input")),placeholder:e.presentText?"":e.inputPlaceholder,onInput:a[5]||(a[5]=a=>e.handleInput(e.searchInputValue,a)),onClick:a[6]||(a[6]=m((a=>e.togglePopperVisible(!0)),["stop"])),onKeydown:a[7]||(a[7]=le(((...a)=>e.handleDelete&&e.handleDelete(...a)),["delete"])),onCompositionstart:a[8]||(a[8]=(...a)=>e.handleComposition&&e.handleComposition(...a)),onCompositionupdate:a[9]||(a[9]=(...a)=>e.handleComposition&&e.handleComposition(...a)),onCompositionend:a[10]||(a[10]=(...a)=>e.handleComposition&&e.handleComposition(...a))},null,42,Ze)),[[te,e.searchInputValue]]):h("v-if",!0)],2)):h("v-if",!0)],38)),[[$,()=>e.togglePopperVisible(!1),e.popperPaneRef]])])),content:f((()=>[ae(g(V,{ref:"panel",modelValue:e.checkedValue,"onUpdate:modelValue":a[15]||(a[15]=a=>e.checkedValue=a),options:e.options,props:e.props,border:!1,"render-label":e.$slots.default,onExpandChange:e.handleExpandChange,onClose:a[16]||(a[16]=a=>e.$nextTick((()=>e.togglePopperVisible(!1))))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[se,!e.filtering]]),e.filterable?ae((u(),v(S,{key:0,ref:"suggestionPanel",tag:"ul",class:b(e.nsCascader.e("suggestion-panel")),"view-class":e.nsCascader.e("suggestion-list"),onKeydown:e.handleSuggestionKeyDown},{default:f((()=>[e.suggestions.length?(u(!0),p(k,{key:0},E(e.suggestions,(a=>(u(),p("li",{key:a.uid,class:b([e.nsCascader.e("suggestion-item"),e.nsCascader.is("checked",a.checked)]),tabindex:-1,onClick:l=>e.handleSuggestionClick(a)},[y("span",null,N(a.text),1),a.checked?(u(),v(i,{key:0},{default:f((()=>[g(w)])),_:1})):h("v-if",!0)],10,We)))),128)):oe(e.$slots,"empty",{key:1},(()=>[y("li",{class:b(e.nsCascader.e("empty-text"))},N(e.t("el.cascader.noMatch")),3)]))])),_:3},8,["class","view-class","onKeydown"])),[[se,e.filtering]]):h("v-if",!0)])),_:3},8,["visible","teleported","popper-class","popper-options","transition","onHide"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/index.vue"]]);Xe.install=e=>{e.component(Xe.name,Xe)};const Ge=Xe,Je=e({name:"CascaderArea"}),Ye=ie(Object.assign(Je,{props:{modelValue:{type:Array,default:()=>[]},size:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,t=V({options:de,props:{value:"code",label:"name"}}),n=d({get:()=>{const e=[];if(3===l.modelValue.length){const[a,t,n]=l.modelValue;de.map((l=>{l.name===a&&(e.push(l.code),l.children.map((a=>{a.name===t&&(e.push(a.code),a.children.map((a=>{a.name===n&&e.push(a.code)})))})))}))}return e},set:e=>{if(e){let[l,t,n]=e;de.map((e=>{e.code===l&&(l=e.name,e.children.map((e=>{e.code===t&&(t=e.name,e.children.map((e=>{e.code===n&&(n=e.name)})))})))})),a("update:modelValue",[l,t,n])}else a("update:modelValue",[])}});return(a,l)=>{const s=Ge;return u(),p("div",null,[g(s,{modelValue:re(n),"onUpdate:modelValue":l[0]||(l[0]=e=>ce(n)?n.value=e:null),options:t.value.options,props:t.value.props,size:e.size,disabled:e.disabled,clearable:"",filterable:""},null,8,["modelValue","options","props","size","disabled"])])}}}),[["__scopeId","data-v-a8bdbebf"]]);export{Ye as _};
