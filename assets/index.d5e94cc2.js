
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
import{z as e,r as l,c as a,cF as t,b as i,f as d,F as o,G as s,e as n,w as u,h as r,m as p,R as f,W as c,a1 as m,Q as b,D as y,i as _,S as v,U as k,a8 as h,cm as g,a5 as w,cn as V}from"./index.5043a866.js";import{E as x}from"./el-dialog.7e5f8960.js";import"./el-overlay.98ff6c7a.js";/* empty css                          */import{E as j,a as L}from"./el-checkbox.81ab801f.js";/* empty css                       *//* empty css                        */import{E as C,a as U}from"./el-table-column.405b0233.js";/* empty css               */import"./el-tooltip.0ca4bad9.js";/* empty css                     */import{E as z}from"./el-input.47be8b34.js";import{E}from"./index.0f8635d0.js";import{E as R,a as $}from"./index.4d68e359.js";import"./use-dialog.fec8b844.js";import"./event.a088884a.js";import"./index.72f397d2.js";import"./index.96296712.js";const F=e=>(v("data-v-1a5e9744"),e=e(),k(),e),A={key:0},B=m("编 辑"),D={key:0},G={key:0},I={key:0},N={key:0},O=m("删 除"),Q=F((()=>y("span",null,null,-1))),S={key:0,style:{padding:"10px"}},W=m("新增一条运费模版"),q=m("为指定地区设置运费模版"),H={class:"filter"},J=m("全部"),K=m("华北地区"),M=m("东北地区"),P=m("华东地区"),T=m("华中地区"),X=m("华南地区"),Y=m("西南地区"),Z=m("西北地区"),ee=m("自治区"),le=m("直辖市"),ae=m("确 定");var te=e({__name:"index",props:{readonly:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},type:{type:Number,default:1}},emits:["update:data"],setup(e,{emit:v}){const k=e,F=l({index:"",visible:!1,filter:"",checkList:[],disableList:[]}),te=a((()=>{let e;switch(F.value.filter){case"":e=t;break;case"autonomousRegion":e=t.filter((e=>e.autonomousRegion));break;case"provinceLevelCity":e=t.filter((e=>e.provinceLevelCity));break;default:e=t.filter((e=>e.region==F.value.filter))}return e}));function ie(){F.value.index="",F.value.checkList=[],F.value.disableList=oe(),F.value.visible=!0}function de(e){let l="";for(const a in t)t[a].code===e&&(l=t[a].name);return l}function oe(e){let l=[];for(let a=0;a<k.data.length;a++)e!==a&&(l=l.concat(k.data[a].list));return l}return(l,a)=>{const t=E,se=g,ne=w,ue=V,re=C,pe=z,fe=U,ce=R,me=$,be=j,ye=L,_e=x;return i(),d("div",null,[e.readonly&&0==e.data.length?p("v-if",!0):o((i(),n(fe,{key:0,data:e.data,border:"",class:"freight"},{empty:u((()=>[Q])),append:u((()=>[e.readonly?p("v-if",!0):(i(),d("div",S,[r(ne,{type:"primary",size:"small",plain:"",style:{width:"100%"},onClick:ie},{default:u((()=>[W])),_:1})]))])),default:u((()=>[r(re,{label:"运送到"},{default:u((l=>[e.readonly?(i(),d("div",A,[(i(!0),d(f,null,c(l.row.list,((e,l)=>(i(),n(t,{key:l,type:"info"},{default:u((()=>[m(b(de(e)),1)])),_:2},1024)))),128))])):(i(),n(ue,{key:1,type:"flex",align:"middle",justify:"space-between"},{default:u((()=>[r(se,null,{default:u((()=>[(i(!0),d(f,null,c(l.row.list,((e,a)=>(i(),n(t,{key:a,"disable-transitions":!0,type:"info",closable:"",onClose:a=>function(e,l){let a=k.data;a[e].list.splice(a[e].list.indexOf(l),1),0===a[e].list.length&&a.splice(e,1),v("update:data",a)}(l.$index,e)},{default:u((()=>[m(b(de(e)),1)])),_:2},1032,["onClose"])))),128))])),_:2},1024),r(se,{style:{width:"100px","text-align":"right"}},{default:u((()=>[r(ne,{size:"small",plain:"",onClick:e=>{return a=l.$index,F.value.index=a,F.value.checkList=k.data[a].list,F.value.disableList=oe(a),void(F.value.visible=!0);var a}},{default:u((()=>[B])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024))])),_:1}),r(re,{label:1==e.type?"首件数（件）":"首重量（kg）",width:"150",align:"center"},{default:u((l=>[e.readonly?(i(),d("span",D,b(l.row.first_step),1)):(i(),n(pe,{key:1,modelValue:l.row.first_step,"onUpdate:modelValue":e=>l.row.first_step=e,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1},8,["label"]),r(re,{label:"首费（元）",width:"150",align:"center"},{default:u((l=>[e.readonly?(i(),d("span",G,b(l.row.first_price),1)):(i(),n(pe,{key:1,modelValue:l.row.first_price,"onUpdate:modelValue":e=>l.row.first_price=e,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1}),r(re,{label:1==e.type?"续件数（件）":"续重量（kg）",width:"150",align:"center"},{default:u((l=>[e.readonly?(i(),d("span",I,b(l.row.continued_step),1)):(i(),n(pe,{key:1,modelValue:l.row.continued_step,"onUpdate:modelValue":e=>l.row.continued_step=e,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1},8,["label"]),r(re,{label:"续费（元）",width:"150",align:"center"},{default:u((l=>[e.readonly?(i(),d("span",N,b(l.row.continued_price),1)):(i(),n(pe,{key:1,modelValue:l.row.continued_price,"onUpdate:modelValue":e=>l.row.continued_price=e,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))])),_:1}),e.readonly?p("v-if",!0):(i(),n(re,{key:0,label:"操作",width:"100",align:"center"},{default:u((e=>[r(ne,{type:"danger",size:"small",plain:"",onClick:l=>function(e){let l=k.data;l.splice(e,1),v("update:data",l)}(e.$index)},{default:u((()=>[O])),_:2},1032,["onClick"])])),_:1}))])),_:1},8,["data"])),[[s,0!=e.data.length]]),e.readonly?p("v-if",!0):o((i(),n(ne,{key:1,type:"primary",size:"default",plain:"",onClick:ie},{default:u((()=>[q])),_:1},512)),[[s,0==e.data.length]]),r(_e,{modelValue:F.value.visible,"onUpdate:modelValue":a[3]||(a[3]=e=>F.value.visible=e),title:"选择地区",width:"800px","custom-class":"freight-dialog","append-to-body":"",onClosed:a[4]||(a[4]=e=>F.value.filter="")},{footer:u((()=>[r(ne,{type:"primary",onClick:a[2]||(a[2]=e=>function(e){if(0===F.value.checkList.length)h({message:"请勾选区域",type:"warning"});else{let l=k.data;""!==e?l[e].list=F.value.checkList:l.push({list:F.value.checkList,first_step:"",first_price:"",continued_step:"",continued_price:""}),v("update:data",l),F.value.visible=!1}}(F.value.index))},{default:u((()=>[ae])),_:1})])),default:u((()=>[y("div",H,[r(me,{modelValue:F.value.filter,"onUpdate:modelValue":a[0]||(a[0]=e=>F.value.filter=e),size:"small"},{default:u((()=>[r(ce,{label:""},{default:u((()=>[J])),_:1}),r(ce,{label:"north"},{default:u((()=>[K])),_:1}),r(ce,{label:"northeast"},{default:u((()=>[M])),_:1}),r(ce,{label:"east"},{default:u((()=>[P])),_:1}),r(ce,{label:"central"},{default:u((()=>[T])),_:1}),r(ce,{label:"south"},{default:u((()=>[X])),_:1}),r(ce,{label:"southwest"},{default:u((()=>[Y])),_:1}),r(ce,{label:"northwest"},{default:u((()=>[Z])),_:1}),r(ce,{label:"autonomousRegion"},{default:u((()=>[ee])),_:1}),r(ce,{label:"provinceLevelCity"},{default:u((()=>[le])),_:1})])),_:1},8,["modelValue"])]),r(ye,{modelValue:F.value.checkList,"onUpdate:modelValue":a[1]||(a[1]=e=>F.value.checkList=e),style:{"margin-left":"50px"}},{default:u((()=>[r(ue,null,{default:u((()=>[(i(!0),d(f,null,c(_(te),((e,l)=>(i(),n(se,{key:l,span:6},{default:u((()=>[r(be,{label:e.code,disabled:F.value.disableList.includes(e.code)},{default:u((()=>[m(b(e.name),1)])),_:2},1032,["label","disabled"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-1a5e9744"]]);export{te as default};
