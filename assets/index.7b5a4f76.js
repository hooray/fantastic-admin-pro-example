
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
import{d as e,b as s,f as a,g as i,db as r,v as o,x as t,a7 as n,bS as l,h as u,w as p,bP as m,bQ as d,cz as c,i as b,G as f,M as v,H as w,Y as h,a4 as _,bT as g}from"./index.503ec71c.js";/* empty css               *//* empty css                       *//* empty css                        */import"./el-loading.fc1c50fe.js";import{E as y,a as k}from"./index.2ef741fb.js";import{E as j}from"./index.5948ef3f.js";import{E as x}from"./index.896fb719.js";import"./event.d298a7ab.js";const A=e({name:"AuthAll"}),C=Object.assign(A,{props:{value:{type:Array,default:()=>[]}},setup(e){const o=e;return(e,t)=>(s(),a("div",null,[r().authAll(o.value)?i(e.$slots,"default",{key:0}):i(e.$slots,"no-auth",{key:1})]))}}),$=e({name:"Auth"}),E=Object.assign($,{props:{value:{type:[String,Array],default:""}},setup(e){const o=e;return(e,t)=>(s(),a("div",null,[r().auth(o.value)?i(e.$slots,"default",{key:0}):i(e.$slots,"no-auth",{key:1})]))}}),V={key:0},O={key:1},P=f("h3",null,"切换帐号",-1),S=f("h3",null,"帐号权限",-1),T=f("h3",null,"鉴权组件（请对照代码查看）",-1),z=h("你有 permission.browse 权限"),G=h("你没有 permission.browse 权限"),H=h("你有 permission.create 权限"),M=h("你没有 permission.create 权限"),Q=h("你有 permission.browse 或 permission.create 权限"),U=h("你没有 permission.browse 或 permission.create 权限"),Y=h("你有 permission.browse 和 permission.create 权限"),q=h("你没有 permission.browse 和 permission.create 权限"),B=f("h3",null,"鉴权指令（请对照代码查看）",-1),D=[h(" 如果你有 permission.browse 权限则能看到这句话 ")],F=[h(" 如果你有 permission.create 权限则能看到这句话 ")],I=[h(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")],J=[h(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")],K=f("h3",null,"鉴权函数（请对照代码查看）",-1),L=h("校验 permission.browse 权限"),N=h("校验 permission.create 权限"),R=h("校验 permission.browse 或 permission.create 权限"),W=h("校验 permission.browse 和 permission.create 权限"),X={__name:"index",setup(e){const i=o(),m=t(),{auth:h,authAll:A}=r();function $(e){x.service({lock:!0,text:"帐号切换中",background:"rgba(0, 0, 0, 0.7)"}),m.login({account:e,password:""}).then((()=>{setTimeout((()=>{location.reload()}),1e3)}))}function X(e){h(e)?_.success("校验通过"):_.error("校验不通过")}return(e,r)=>{const o=g,t=y,h=k,x=j,Z=E,ee=C,se=n,ae=l,ie=d,re=c("auth"),oe=c("auth-all");return s(),a("div",null,[u(o,{title:"权限验证"}),u(ie,null,{default:p((()=>[b(i).app.enablePermission?(s(),a("div",O,[P,u(h,{modelValue:b(m).account,"onUpdate:modelValue":r[0]||(r[0]=e=>b(m).account=e),onChange:$},{default:p((()=>[u(t,{label:"admin"}),u(t,{label:"test"})])),_:1},8,["modelValue"]),S,f("div",null,v(b(m).permissions),1),T,f("div",null,[u(Z,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":p((()=>[u(x,{type:"danger"},{default:p((()=>[G])),_:1})])),default:p((()=>[u(x,null,{default:p((()=>[z])),_:1})])),_:1}),u(Z,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":p((()=>[u(x,{type:"danger"},{default:p((()=>[M])),_:1})])),default:p((()=>[u(x,null,{default:p((()=>[H])),_:1})])),_:1}),u(Z,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":p((()=>[u(x,{type:"danger"},{default:p((()=>[U])),_:1})])),default:p((()=>[u(x,null,{default:p((()=>[Q])),_:1})])),_:1},8,["value"]),u(ee,{value:["permission.browse","permission.create"]},{"no-auth":p((()=>[u(x,{type:"danger"},{default:p((()=>[q])),_:1})])),default:p((()=>[u(x,null,{default:p((()=>[Y])),_:1})])),_:1},8,["value"])]),B,f("div",null,[w((s(),a("div",null,D)),[[re,"permission.browse"]]),w((s(),a("div",null,F)),[[re,"permission.create"]]),w((s(),a("div",null,I)),[[re,["permission.browse","permission.create"]]]),w((s(),a("div",null,J)),[[oe,["permission.browse","permission.create"]]])]),K,f("div",null,[u(ae,{style:{display:"block","margin-bottom":"10px"}},{default:p((()=>[u(se,{onClick:r[1]||(r[1]=e=>X("permission.browse"))},{default:p((()=>[L])),_:1}),u(se,{onClick:r[2]||(r[2]=e=>X("permission.create"))},{default:p((()=>[N])),_:1})])),_:1}),u(ae,null,{default:p((()=>[u(se,{onClick:r[3]||(r[3]=e=>X(["permission.browse","permission.create"]))},{default:p((()=>[R])),_:1}),u(se,{onClick:r[4]||(r[4]=e=>{A(["permission.browse","permission.create"])?_.success("校验通过"):_.error("校验不通过")})},{default:p((()=>[W])),_:1})])),_:1})])])):(s(),a("div",V,"请到 seeting.js 里打开权限功能，再进入该页面查看演示"))])),_:1})])}}};"function"==typeof m&&m(X);export{X as default};
