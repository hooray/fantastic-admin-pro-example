
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(t,l,a)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a;import{aa as o,aP as i,az as u,cx as d,b2 as m,d as c,cr as p,u as f,r as b,c as v,b as h,e as j,w as g,i as y,E as S,n as V,N as x,m as O,f as T,X as _,S as I,_ as k,A as w,h as P,bI as $,M as H,c7 as M,c6 as U}from"./index.d45ed42d.js";import{E as z}from"./el-time-picker.799f927b.js";import"./el-input.f0fe7b13.js";/* empty css                     *//* empty css               */import{b as E}from"./el-select.b312c073.js";import A from"./alert.d8e1a1d6.js";import{c as B}from"./panel-time-pick.2a551fb0.js";import"./_baseFlatten.3fdddd1d.js";import"./isEqual.02b698d2.js";import"./event.6c7ea317.js";import"./index.f5abf247.js";import"./index.ad76f6b9.js";import"./validator.ad7588b1.js";import"./el-alert.24a2fcb4.js";import"./el-link.3ffa9be7.js";import"./index.deb3bfb6.js";const N=o({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:i,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:u([String,Object]),default:()=>d},clearIcon:{type:u([String,Object]),default:()=>m}}),C=e=>{const t=(e||"").split(":");if(t.length>=2){let l=Number.parseInt(t[0],10);const a=Number.parseInt(t[1],10),s=e.toUpperCase();return s.includes("AM")&&12===l?l=0:s.includes("PM")&&12!==l&&(l+=12),{hours:l,minutes:a}}return null},D=(e,t)=>{const l=C(e);if(!l)return-1;const a=C(t);if(!a)return-1;const s=l.minutes+60*l.hours,r=a.minutes+60*a.hours;return s===r?0:s>r?1:-1},F=e=>`${e}`.padStart(2,"0"),q=e=>`${F(e.hours)}:${F(e.minutes)}`,X=(e,t)=>{const l=C(e);if(!l)return"";const a=C(t);if(!a)return"";const s={hours:l.hours,minutes:l.minutes};return s.minutes+=a.minutes,s.hours+=a.hours,s.hours+=Math.floor(s.minutes/60),s.minutes=s.minutes%60,q(s)},G=c((J=((e,t)=>{for(var l in t||(t={}))s.call(t,l)&&n(e,l,t[l]);if(a)for(var l of a(t))r.call(t,l)&&n(e,l,t[l]);return e})({},{name:"ElTimeSelect"}),t(J,l({props:N,emits:["change","blur","focus","update:modelValue"],setup(e,{expose:t}){const l=e;p.extend(B);const{Option:a}=E,s=f("input"),r=b(),n=v((()=>l.modelValue)),o=v((()=>{const e=C(l.start);return e?q(e):null})),i=v((()=>{const e=C(l.end);return e?q(e):null})),u=v((()=>{const e=C(l.step);return e?q(e):null})),d=v((()=>{const e=C(l.minTime||"");return e?q(e):null})),m=v((()=>{const e=C(l.maxTime||"");return e?q(e):null})),c=v((()=>{const e=[];if(l.start&&l.end&&l.step){let t,a=o.value;for(;a&&i.value&&D(a,i.value)<=0;)t=p(a,"HH:mm").format(l.format),e.push({value:t,disabled:D(a,d.value||"-1:-1")<=0||D(a,m.value||"100:100")>=0}),a=X(a,u.value)}return e}));return t({blur:()=>{var e,t;null==(t=null==(e=r.value)?void 0:e.blur)||t.call(e)},focus:()=>{var e,t;null==(t=null==(e=r.value)?void 0:e.focus)||t.call(e)}}),(e,t)=>(h(),j(y(E),{ref_key:"select",ref:r,"model-value":y(n),disabled:e.disabled,clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,effect:e.effect,placeholder:e.placeholder,"default-first-option":"",filterable:e.editable,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t)),onChange:t[1]||(t[1]=t=>e.$emit("change",t)),onBlur:t[2]||(t[2]=t=>e.$emit("blur",t)),onFocus:t[3]||(t[3]=t=>e.$emit("focus",t))},{prefix:g((()=>[e.prefixIcon?(h(),j(y(S),{key:0,class:V(y(s).e("prefix-icon"))},{default:g((()=>[(h(),j(x(e.prefixIcon)))])),_:1},8,["class"])):O("v-if",!0)])),default:g((()=>[(h(!0),T(I,null,_(y(c),(e=>(h(),j(y(a),{key:e.value,label:e.value,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])))),128))])),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}}))));var J,K=k(G,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);K.install=e=>{e.component(K.name,K)};const L=K;const Q=(e,t)=>{const l=[];for(let a=e;a<=t;a++)l.push(a);return l},R={components:{Alert:A},data:()=>({value:"",value1:new Date(2016,9,10,18,40),startTime:"",endTime:""}),methods:{disabledHours:()=>Q(0,16).concat(Q(19,23)),disabledMinutes:e=>17===e?Q(0,29):18===e?Q(31,59):void 0,disabledSeconds(e,t){if(18===e&&30===t)return Q(1,59)}}};"function"==typeof $&&$(R);var W=w(R,[["render",function(e,t,l,a,s,r){const n=H("Alert"),o=U,i=L,u=M,d=z;return h(),T("div",null,[P(n),P(o,{title:"时间选择器"}),P(u,{title:"固定时间点",class:"demo"},{default:g((()=>[P(i,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),start:"08:30",step:"00:15",end:"18:30",placeholder:"选择时间"},null,8,["modelValue"])])),_:1}),P(u,{title:"任意时间点",class:"demo"},{default:g((()=>[P(d,{modelValue:s.value1,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value1=e),"disabled-hours":r.disabledHours,"disabled-minutes":r.disabledMinutes,"disabled-seconds":r.disabledSeconds,placeholder:"任意时间点"},null,8,["modelValue","disabled-hours","disabled-minutes","disabled-seconds"])])),_:1}),P(u,{title:"固定时间范围",class:"demo"},{default:g((()=>[P(i,{modelValue:s.startTime,"onUpdate:modelValue":t[2]||(t[2]=e=>s.startTime=e),placeholder:"起始时间",start:"08:30",step:"00:15",end:"18:30",style:{"margin-right":"10px"}},null,8,["modelValue"]),P(i,{modelValue:s.endTime,"onUpdate:modelValue":t[3]||(t[3]=e=>s.endTime=e),placeholder:"结束时间",start:"08:30",step:"00:15",end:"18:30","min-time":s.startTime},null,8,["modelValue","min-time"])])),_:1})])}]]);export{W as default};
