
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
import{_ as e}from"./index.5837223b.js";import{A as a,d as l,v as o,x as r,Q as t,r as s,aL as u,o as n,E as i,a7 as d,a5 as c,f as p,h as m,w as f,G as v,i as g,H as _,I as y,e as h,m as w,bP as b,B as x,ag as k,b as V,M as C,X as P,l as U,Y as j,O as q,P as R,a4 as E,aF as L,L as z}from"./index.b5d679a7.js";import{E as F,a as I}from"./el-form.093c6194.js";import{E as K}from"./el-link.ab86ff3f.js";import{E as O}from"./el-checkbox.34001f9d.js";import"./el-form-item.2e22de35.js";import{E as A}from"./el-input.d18d887e.js";import{_ as B}from"./index.76b28c79.js";import"./isEqual.982bf403.js";import"./event.d298a7ab.js";const G=e=>(q("data-v-98cc3e28"),e=e(),R(),e),H=G((()=>v("div",{class:"bg-banner"},null,-1))),M={id:"login-box"},Q={class:"login-banner"},X=G((()=>v("div",{class:"logo"},null,-1))),Y=["src"],D={class:"title-container"},J={class:"title"},N={class:"flex-bar"},S=j("记住我"),T=j("忘记密码了?"),W={class:"sub-link"},Z=G((()=>v("span",{class:"text"},"还没有帐号?",-1))),$=j("创建新帐号"),ee={style:{"margin-top":"20px","margin-bottom":"-20px","text-align":"center"}},ae=j("演示账号一键登录"),le=j("admin"),oe=j("test"),re=G((()=>v("div",{class:"title-container"},[v("h3",{class:"title"},"探索从这里开始! 🚀")],-1))),te=j("发送验证码"),se=j("注册"),ue={class:"sub-link"},ne=G((()=>v("span",{class:"text"},"已经有帐号?",-1))),ie=j("去登录"),de=G((()=>v("div",{class:"title-container"},[v("h3",{class:"title"},"忘记密码了? 🔒")],-1))),ce={class:"sub-link"},pe=l({name:"Login"}),me=Object.assign(pe,{setup(a){const l=x(),b=k(),q=o(),R=r(),{t:G}=t(),pe=new URL(""+new URL("login-banner.a565fac8.png",import.meta.url).href,self.location).href,me=s("login"),fe=s(),ve=s({account:u.local.get("login_account"),password:"",remember:u.local.has("login_account")}),ge=s({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]});function _e(){fe.value.validate((e=>{e&&(Pe.value=!0,R.login(ve.value).then((()=>{Pe.value=!1,ve.value.remember?u.local.set("login_account",ve.value.account):u.local.remove("login_account"),b.push(je.value)})).catch((()=>{Pe.value=!1})))}))}const ye=s(),he=s({account:"",captcha:"",password:"",checkPassword:""}),we=s({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}],checkPassword:[{required:!0,trigger:"blur",message:"请再次输入密码"},{validator:(e,a,l)=>{a!==he.password?l(new Error("两次输入的密码不一致")):l()}}]});function be(){E({message:"注册模块仅提供界面演示，无实际功能，需开发者自行扩展",type:"warning"}),ye.value.validate((e=>{}))}const xe=s(),ke=s({account:u.local.get("login_account"),captcha:"",newPassword:""}),Ve=s({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],newPassword:[{required:!0,trigger:"blur",message:"请输入新密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]});function Ce(){E({message:"重置密码仅提供界面演示，无实际功能，需开发者自行扩展",type:"info"}),xe.value.validate((e=>{}))}const Pe=s(!1),Ue=s("password"),je=s(null),qe=s();function Re(){Ue.value="password"===Ue.value?"":"password",L((()=>{qe.value.focus()}))}function Ee(e){ve.value.account=e,ve.value.password="123456",_e()}return n((()=>{var e;je.value=null!=(e=l.query.redirect)?e:"/"})),(a,l)=>{const o=z,r=i,t=B,s=A,u=F,n=O,b=K,x=d,k=c,R=I,E=e;return V(),p("div",null,[H,m(t,{class:"i18n-selector"},{default:f((()=>[m(r,null,{default:f((()=>[m(o,{name:"i-ri:translate"})])),_:1})])),_:1}),v("div",M,[v("div",Q,[X,v("img",{src:g(pe),class:"banner"},null,8,Y)]),_(m(R,{ref_key:"loginFormRef",ref:fe,model:ve.value,rules:ge.value,class:"login-form",autocomplete:"on"},{default:f((()=>[v("div",D,[v("h3",J,"欢迎来到 "+C(g("Fantastic-admin 专业版"))+" ! 👋🏻",1)]),v("div",null,[m(u,{prop:"account"},{default:f((()=>[m(s,{ref:"name",modelValue:ve.value.account,"onUpdate:modelValue":l[0]||(l[0]=e=>ve.value.account=e),placeholder:g(G)("app.account"),type:"text",tabindex:"1",autocomplete:"on"},{prefix:f((()=>[m(r,null,{default:f((()=>[m(o,{name:"i-ri:user-3-fill"})])),_:1})])),_:1},8,["modelValue","placeholder"])])),_:1}),m(u,{prop:"password"},{default:f((()=>[m(s,{ref_key:"passwordRef",ref:qe,modelValue:ve.value.password,"onUpdate:modelValue":l[1]||(l[1]=e=>ve.value.password=e),type:Ue.value,placeholder:g(G)("app.password"),tabindex:"2",autocomplete:"on",onKeyup:P(_e,["enter"])},{prefix:f((()=>[m(r,null,{default:f((()=>[m(o,{name:"i-ri:lock-2-fill"})])),_:1})])),suffix:f((()=>[m(r,{onClick:Re},{default:f((()=>[m(o,{name:"password"===Ue.value?"i-ri:eye-close-line":"i-ri:eye-line"},null,8,["name"])])),_:1})])),_:1},8,["modelValue","type","placeholder","onKeyup"])])),_:1})]),v("div",N,[m(n,{modelValue:ve.value.remember,"onUpdate:modelValue":l[2]||(l[2]=e=>ve.value.remember=e)},{default:f((()=>[S])),_:1},8,["modelValue"]),m(b,{type:"primary",underline:!1,onClick:l[3]||(l[3]=e=>me.value="reset")},{default:f((()=>[T])),_:1})]),m(x,{loading:Pe.value,type:"primary",size:"large",style:{width:"100%"},onClick:U(_e,["prevent"])},{default:f((()=>[j(C(g(G)("app.login")),1)])),_:1},8,["loading","onClick"]),v("div",W,[Z,m(b,{type:"primary",underline:!1,onClick:l[4]||(l[4]=e=>me.value="register")},{default:f((()=>[$])),_:1})]),v("div",ee,[m(k,null,{default:f((()=>[ae])),_:1}),m(x,{type:"primary",size:"small",plain:"",onClick:l[5]||(l[5]=e=>Ee("admin"))},{default:f((()=>[le])),_:1}),m(x,{size:"small",plain:"",onClick:l[6]||(l[6]=e=>Ee("test"))},{default:f((()=>[oe])),_:1})])])),_:1},8,["model","rules"]),[[y,"login"==me.value]]),_(m(R,{ref_key:"registerFormRef",ref:ye,model:he.value,rules:we.value,class:"login-form","auto-complete":"on"},{default:f((()=>[re,v("div",null,[m(u,{prop:"account"},{default:f((()=>[m(s,{ref:"name",modelValue:he.value.account,"onUpdate:modelValue":l[7]||(l[7]=e=>he.value.account=e),placeholder:"用户名",tabindex:"1",autocomplete:"on"},{prefix:f((()=>[m(r,null,{default:f((()=>[m(o,{name:"i-ri:user-3-fill"})])),_:1})])),_:1},8,["modelValue"])])),_:1}),m(u,{prop:"captcha"},{default:f((()=>[m(s,{ref:"captcha",modelValue:he.value.captcha,"onUpdate:modelValue":l[8]||(l[8]=e=>he.value.captcha=e),placeholder:"验证码",tabindex:"2",autocomplete:"on"},{prefix:f((()=>[m(r,null,{default:f((()=>[m(o,{name:"i-ic:baseline-verified-user"})])),_:1})])),append:f((()=>[m(x,null,{default:f((()=>[te])),_:1})])),_:1},8,["modelValue"])])),_:1}),m(u,{prop:"password"},{default:f((()=>[m(s,{ref_key:"passwordRef",ref:qe,modelValue:he.value.password,"onUpdate:modelValue":l[9]||(l[9]=e=>he.value.password=e),type:Ue.value,placeholder:"密码",tabindex:"3",autocomplete:"on"},{prefix:f((()=>[m(r,null,{default:f((()=>[m(o,{name:"i-ri:lock-2-fill"})])),_:1})])),suffix:f((()=>[m(r,null,{default:f((()=>[m(o,{name:"password"===Ue.value?"i-ri:eye-close-line":"i-ri:eye-line"},null,8,["name"])])),_:1})])),_:1},8,["modelValue","type"])])),_:1}),m(u,{prop:"checkPassword"},{default:f((()=>[m(s,{ref:"checkPassword",modelValue:he.value.checkPassword,"onUpdate:modelValue":l[10]||(l[10]=e=>he.value.checkPassword=e),type:Ue.value,placeholder:"确认密码",tabindex:"4",autocomplete:"on"},{prefix:f((()=>[m(r,null,{default:f((()=>[m(o,{name:"i-ri:lock-2-fill"})])),_:1})])),suffix:f((()=>[m(r,null,{default:f((()=>[m(o,{name:"password"===Ue.value?"eye":"eye-open",onClick:Re},null,8,["name"])])),_:1})])),_:1},8,["modelValue","type"])])),_:1})]),m(x,{loading:Pe.value,type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:U(be,["prevent"])},{default:f((()=>[se])),_:1},8,["loading","onClick"]),v("div",ue,[ne,m(b,{type:"primary",underline:!1,onClick:l[11]||(l[11]=e=>me.value="login")},{default:f((()=>[ie])),_:1})])])),_:1},8,["model","rules"]),[[y,"register"==me.value]]),_(m(R,{ref_key:"resetFormRef",ref:xe,model:ke.value,rules:Ve.value,class:"login-form","auto-complete":"on"},{default:f((()=>[de,v("div",null,[m(u,{prop:"account"},{default:f((()=>[m(s,{ref:"name",modelValue:ke.value.account,"onUpdate:modelValue":l[12]||(l[12]=e=>ke.value.account=e),placeholder:g(G)("app.account"),type:"text",tabindex:"1",autocomplete:"on"},{prefix:f((()=>[m(r,null,{default:f((()=>[m(o,{name:"i-ri:user-3-fill"})])),_:1})])),_:1},8,["modelValue","placeholder"])])),_:1}),m(u,{prop:"captcha"},{default:f((()=>[m(s,{ref:"captcha",modelValue:ke.value.captcha,"onUpdate:modelValue":l[13]||(l[13]=e=>ke.value.captcha=e),placeholder:g(G)("app.captcha"),type:"text",tabindex:"2",autocomplete:"on"},{prefix:f((()=>[m(r,null,{default:f((()=>[m(o,{name:"i-ic:baseline-verified-user"})])),_:1})])),append:f((()=>[m(x,null,{default:f((()=>[j(C(g(G)("app.sendCaptcha")),1)])),_:1})])),_:1},8,["modelValue","placeholder"])])),_:1}),m(u,{prop:"newPassword"},{default:f((()=>[m(s,{ref:"newPasswordRef",modelValue:ke.value.newPassword,"onUpdate:modelValue":l[14]||(l[14]=e=>ke.value.newPassword=e),type:Ue.value,placeholder:g(G)("app.newPassword"),tabindex:"3",autocomplete:"on"},{prefix:f((()=>[m(r,null,{default:f((()=>[m(o,{name:"i-ri:lock-2-fill"})])),_:1})])),suffix:f((()=>[m(r,{onClick:Re},{default:f((()=>[m(o,{name:"password"===Ue.value?"i-ri:eye-close-line":"i-ri:eye-line"},null,8,["name"])])),_:1})])),_:1},8,["modelValue","type","placeholder"])])),_:1})]),m(x,{loading:Pe.value,type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:U(Ce,["prevent"])},{default:f((()=>[j(C(g(G)("app.check")),1)])),_:1},8,["loading","onClick"]),v("div",ce,[m(b,{type:"primary",underline:!1,onClick:l[15]||(l[15]=e=>me.value="login")},{default:f((()=>[j(C(g(G)("app.goLogin")),1)])),_:1})])])),_:1},8,["model","rules"]),[[y,"reset"==me.value]])]),g(q).copyright.enable?(V(),h(E,{key:0})):w("v-if",!0)])}}});"function"==typeof b&&b(me);const fe=a(me,[["__scopeId","data-v-98cc3e28"]]);export{fe as default};
