
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
var e=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(o,l,t)=>l in o?e(o,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[l]=t;import{a9 as u,aH as r,aw as c,b5 as d,b6 as p,b7 as f,r as i,c as y,aK as v,b8 as b,b9 as m,y as O,aA as C,o as B,H as g,av as w,ak as x}from"./index.9bf5deda.js";import{U as h}from"./event2.c09267d7.js";import{u as j}from"./index2.a77d7653.js";const D=u({center:{type:Boolean,default:!1},closeIcon:{type:r,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),I={close:()=>!0},F=u((S=((e,o)=>{for(var l in o||(o={}))a.call(o,l)&&s(e,l,o[l]);if(t)for(var l of t(o))n.call(o,l)&&s(e,l,o[l]);return e})({},D),A={appendToBody:{type:Boolean,default:!1},beforeClose:{type:c(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}},o(S,l(A))));var S,A;const P={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[h]:e=>d(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},k=(e,o)=>{const l=g().emit,{nextZIndex:t}=p();let a="";const n=f(),s=f(),u=i(!1),r=i(!1),c=i(!1),d=i(e.zIndex||t());let D,I;const F=y((()=>v(e.width)?`${e.width}px`:e.width)),S=b("namespace",m),A=y((()=>{const o={},l=`--${S.value}-dialog`;return e.fullscreen||(e.top&&(o[`${l}-margin-top`]=e.top),e.width&&(o[`${l}-width`]=F.value)),o}));function P(){null==I||I(),null==D||D(),e.openDelay&&e.openDelay>0?({stop:D}=w((()=>E()),e.openDelay)):E()}function k(){null==D||D(),null==I||I(),e.closeDelay&&e.closeDelay>0?({stop:I}=w((()=>N()),e.closeDelay)):N()}function z(){e.beforeClose?e.beforeClose((function(e){e||(r.value=!0,u.value=!1)})):k()}function E(){x&&(u.value=!0)}function N(){u.value=!1}return e.lockScroll&&j(u),O((()=>e.modelValue),(a=>{a?(r.value=!1,P(),c.value=!0,l("open"),d.value=e.zIndex?d.value++:t(),C((()=>{o.value&&(o.value.scrollTop=0)}))):u.value&&k()})),O((()=>e.fullscreen),(e=>{o.value&&(e?(a=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=a)})),B((()=>{e.modelValue&&(u.value=!0,c.value=!0,P())})),{afterEnter:function(){l("opened")},afterLeave:function(){l("closed"),l(h,!1),e.destroyOnClose&&(c.value=!1)},beforeLeave:function(){l("close")},handleClose:z,onModalClick:function(){e.closeOnClickModal&&z()},close:k,doClose:N,onOpenAutoFocus:function(){l("openAutoFocus")},onCloseAutoFocus:function(){l("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&z()},titleId:n,bodyId:s,closed:r,style:A,rendered:c,visible:u,zIndex:d}};export{P as a,D as b,I as c,F as d,k as u};
