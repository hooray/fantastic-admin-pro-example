
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
import{r as e,d9 as a,o as l,a4 as o,H as r,b as m,f as u,h as t,w as s,Y as d}from"./index.3b0b287f.js";import{v as i}from"./el-loading.55f30254.js";import{E as n,a as f}from"./el-form.1e0549a2.js";/* empty css                       *//* empty css                        */import"./el-form-item.2e22de35.js";import{E as p}from"./el-input.a46c7a98.js";import{E as c,a as b}from"./index.ad1f103b.js";import"./isEqual.0e04c4ea.js";import"./event.d298a7ab.js";const v=d("保密"),g=d("男"),x=d("女"),_={__name:"index",props:{id:{type:[Number,String],default:""}},setup(d,{expose:_}){const V=d,h=e(),j=e({loading:!1,form:{id:V.id,account:"",name:"",mobile:"",sex:"2"},rules:{account:[{required:!0,message:"请输入帐号",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:(e,l,o)=>{let r={key:"mobile",value:l};""!=j.value.form.id&&(r.id=j.value.form.id),a.get("pages_example/manager/check",{baseURL:"/mock/",params:r}).then((e=>{e.data.exist?o(new Error("手机号已存在")):o()}))},trigger:"blur"}]}});return l((()=>{""!=j.value.form.id&&(j.value.loading=!0,a.get("pages_example/manager/detail",{baseURL:"/mock/",params:{id:j.value.form.id}}).then((e=>{j.value.loading=!1,j.value.form.account=e.data.account,j.value.form.name=e.data.name,j.value.form.mobile=e.data.mobile})))})),_({submit(e){""==j.value.form.id?h.value.validate((l=>{l&&a.post("pages_example/manager/create",j.value.form,{baseURL:"/mock/"}).then((()=>{o.success({message:"模拟新增成功",center:!0}),e&&e()}))})):h.value.validate((l=>{l&&a.post("pages_example/manager/edit",j.value.form,{baseURL:"/mock/"}).then((()=>{o.success({message:"模拟编辑成功",center:!0}),e&&e()}))}))}}),(e,a)=>{const l=p,o=n,d=c,_=b,V=f,U=i;return r((m(),u("div",null,[t(V,{ref_key:"formRef",ref:h,model:j.value.form,rules:j.value.rules,"label-width":"120px","label-suffix":"："},{default:s((()=>[t(o,{label:"帐号",prop:"account"},{default:s((()=>[t(l,{modelValue:j.value.form.account,"onUpdate:modelValue":a[0]||(a[0]=e=>j.value.form.account=e),placeholder:"请输入帐号"},null,8,["modelValue"])])),_:1}),t(o,{label:"姓名",prop:"name"},{default:s((()=>[t(l,{modelValue:j.value.form.name,"onUpdate:modelValue":a[1]||(a[1]=e=>j.value.form.name=e),placeholder:"请输入姓名"},null,8,["modelValue"])])),_:1}),t(o,{label:"手机号",prop:"mobile"},{default:s((()=>[t(l,{modelValue:j.value.form.mobile,"onUpdate:modelValue":a[2]||(a[2]=e=>j.value.form.mobile=e),placeholder:"请输入手机号"},null,8,["modelValue"])])),_:1}),t(o,{label:"性别",prop:"sex"},{default:s((()=>[t(_,{modelValue:j.value.form.sex,"onUpdate:modelValue":a[3]||(a[3]=e=>j.value.form.sex=e)},{default:s((()=>[t(d,{label:"2"},{default:s((()=>[v])),_:1}),t(d,{label:"1"},{default:s((()=>[g])),_:1}),t(d,{label:"0"},{default:s((()=>[x])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),[[U,j.value.loading]])}}};export{_ as default};
