
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
import{A as e,r as a,o as l,d9 as o,a4 as t,H as d,b as r,f as s,h as m,w as u,G as i,Y as p,M as f,co as n,cp as c}from"./index.b5d679a7.js";import{v}from"./el-loading.b20870c1.js";import{E as _,a as b}from"./el-form.093c6194.js";import{E as j}from"./el-card.06d92eeb.js";/* empty css                       *//* empty css                        */import{_ as g}from"./index.b31e38ed.js";import"./el-form-item.2e22de35.js";import{E as V}from"./el-input.d18d887e.js";import x from"./index.1e1fcd3b.js";import{E as y,a as h}from"./index.1b222401.js";import"./isEqual.982bf403.js";/* empty css               */import"./el-checkbox.34001f9d.js";import"./event.d298a7ab.js";/* empty css                 */import"./aria.288df782.js";import"./arrays.21a21ad5.js";import"./_baseFlatten.3c9a2d6e.js";import"./index.e05005c8.js";import"./index.d1edae19.js";import"./validator.c3056c95.js";import"./el-dialog.39c18945.js";import"./el-overlay.aa9d497b.js";import"./use-dialog.ab21eb90.js";import"./index.60220f41.js";/* empty css                          */import"./el-table-column.52c75186.js";import"./el-tooltip.89296c46.js";const U=p("按件数"),k=p("按重量"),E={class:"freight"},z=p("默认运费"),R=p("首费"),w=p("元"),L=p("续费"),q=p("元"),A=p("启用"),F=p("停用"),G=e({__name:"index",props:{id:{type:[Number,String],default:""}},setup(e,{expose:G}){const H=e,I=a(),M=a({loading:!1,form:{id:H.id,title:"",address:[],type:1,status:!0,first_step:"",first_price:"",continued_step:"",continued_price:"",infos:[]},rules:{title:[{required:!0,message:"请输入名称",trigger:"blur"}]}});return l((()=>{""!=M.value.form.id&&(M.value.loading=!0,o.get("pages_example/delivery/detail",{baseURL:"/mock/",params:{id:M.value.form.id}}).then((e=>{M.value.loading=!1,Object.assign(M.value.form,e.data)})))})),G({submit(e){""==M.value.form.id?I.value.validate((a=>{a&&o.post("pages_example/delivery/create",M.value.form,{baseURL:"/mock/"}).then((()=>{t.success({message:"模拟新增成功",center:!0}),e&&e()}))})):I.value.validate((a=>{a&&o.post("pages_example/delivery/edit",M.value.form,{baseURL:"/mock/"}).then((()=>{t.success({message:"模拟编辑成功",center:!0}),e&&e()}))}))}}),(e,a)=>{const l=V,o=_,t=g,G=y,H=h,N=n,O=c,S=j,Y=b,B=v;return d((r(),s("div",null,[m(Y,{ref_key:"formRef",ref:I,model:M.value.form,rules:M.value.rules,"label-width":"120px","label-suffix":"："},{default:u((()=>[m(o,{label:"名称",prop:"title"},{default:u((()=>[m(l,{modelValue:M.value.form.title,"onUpdate:modelValue":a[0]||(a[0]=e=>M.value.form.title=e),placeholder:"请输入名称"},null,8,["modelValue"])])),_:1}),m(o,{label:"发货地址",prop:"address"},{default:u((()=>[m(t,{modelValue:M.value.form.address,"onUpdate:modelValue":a[1]||(a[1]=e=>M.value.form.address=e)},null,8,["modelValue"])])),_:1}),m(o,{label:"计价方式"},{default:u((()=>[m(H,{modelValue:M.value.form.type,"onUpdate:modelValue":a[2]||(a[2]=e=>M.value.form.type=e)},{default:u((()=>[m(G,{label:1},{default:u((()=>[U])),_:1}),m(G,{label:2},{default:u((()=>[k])),_:1})])),_:1},8,["modelValue"])])),_:1}),m(o,{label:"运费模版"},{default:u((()=>[i("div",E,[m(S,{shadow:"never"},{header:u((()=>[z])),default:u((()=>[m(O,{gutter:20},{default:u((()=>[m(N,{md:6},{default:u((()=>[m(l,{modelValue:M.value.form.first_step,"onUpdate:modelValue":a[3]||(a[3]=e=>M.value.form.first_step=e),size:"small"},{prepend:u((()=>[p(f(1==M.value.form.type?"首件":"首重"),1)])),append:u((()=>[p(f(1==M.value.form.type?"件":"kg"),1)])),_:1},8,["modelValue"])])),_:1}),m(N,{md:6},{default:u((()=>[m(l,{modelValue:M.value.form.first_price,"onUpdate:modelValue":a[4]||(a[4]=e=>M.value.form.first_price=e),size:"small"},{prepend:u((()=>[R])),append:u((()=>[w])),_:1},8,["modelValue"])])),_:1}),m(N,{md:6},{default:u((()=>[m(l,{modelValue:M.value.form.continued_step,"onUpdate:modelValue":a[5]||(a[5]=e=>M.value.form.continued_step=e),size:"small"},{prepend:u((()=>[p(f(1==M.value.form.type?"续件":"续重"),1)])),append:u((()=>[p(f(1==M.value.form.type?"件":"kg"),1)])),_:1},8,["modelValue"])])),_:1}),m(N,{md:6},{default:u((()=>[m(l,{modelValue:M.value.form.continued_price,"onUpdate:modelValue":a[6]||(a[6]=e=>M.value.form.continued_price=e),size:"small"},{prepend:u((()=>[L])),append:u((()=>[q])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),m(O,null,{default:u((()=>[m(N,{span:24},{default:u((()=>[m(x,{data:M.value.form.infos,type:M.value.form.type},null,8,["data","type"])])),_:1})])),_:1})])])),_:1}),m(o,{label:"是否启用"},{default:u((()=>[m(H,{modelValue:M.value.form.status,"onUpdate:modelValue":a[7]||(a[7]=e=>M.value.form.status=e)},{default:u((()=>[m(G,{label:!0},{default:u((()=>[A])),_:1}),m(G,{label:!1},{default:u((()=>[F])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),[[B,M.value.loading]])}}},[["__scopeId","data-v-fe9c11a7"]]);export{G as default};
