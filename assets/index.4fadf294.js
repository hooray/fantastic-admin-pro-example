
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
import{d as e,b as s,f as a,d2 as i,g as r,d3 as o,v as t,x as n,a5 as l,co as u,h as p,w as m,bH as d,c6 as c,cg as b,i as f,D as v,Q as w,F as _,a1 as g,a8 as y,c5 as h,H as k}from"./index.5043a866.js";/* empty css               *//* empty css                       *//* empty css                        */import"./el-loading.884e109c.js";import{E as x,a as j}from"./index.4d68e359.js";import{E as A}from"./index.0f8635d0.js";import{E as $}from"./index.a80867af.js";import"./event.a088884a.js";const C=e({name:"AuthAll"}),E=Object.assign(C,{props:{value:{type:Array,default:()=>[]}},setup(e){const o=e;return(e,t)=>(s(),a("div",null,[i(o.value)?r(e.$slots,"default",{key:0}):r(e.$slots,"no-auth",{key:1})]))}}),V=e({name:"Auth"}),H=Object.assign(V,{props:{value:{type:[String,Array],default:""}},setup(e){const i=e;return(e,t)=>(s(),a("div",null,[o(i.value)?r(e.$slots,"default",{key:0}):r(e.$slots,"no-auth",{key:1})]))}}),O={key:0},D={key:1},F=v("h3",null,"切换帐号",-1),P=v("h3",null,"帐号权限",-1),Q=v("h3",null,"鉴权组件（请对照代码查看）",-1),S=g("你有 permission.browse 权限"),T=g("你没有 permission.browse 权限"),U=g("你有 permission.create 权限"),q=g("你没有 permission.create 权限"),z=g("你有 permission.browse 或 permission.create 权限"),B=g("你没有 permission.browse 或 permission.create 权限"),G=g("你有 permission.browse 和 permission.create 权限"),I=g("你没有 permission.browse 和 permission.create 权限"),J=v("h3",null,"鉴权指令（请对照代码查看）",-1),K=[g(" 如果你有 permission.browse 权限则能看到这句话 ")],L=[g(" 如果你有 permission.create 权限则能看到这句话 ")],M=[g(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")],N=[g(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")],R=v("h3",null,"鉴权函数（请对照代码查看）",-1),W=g("校验 permission.browse 权限"),X=g("校验 permission.create 权限"),Y=g("校验 permission.browse 或 permission.create 权限"),Z=g("校验 permission.browse 和 permission.create 权限"),ee={__name:"index",setup(e){const{proxy:i}=k(),r=t(),o=n();function d(e){$.service({lock:!0,text:"帐号切换中",background:"rgba(0, 0, 0, 0.7)"}),o.login({account:e,password:""}).then((()=>{setTimeout((()=>{location.reload()}),1e3)}))}function g(e){i.$auth(e)?y.success("校验通过"):y.error("校验不通过")}return(e,t)=>{const n=h,k=x,$=j,C=A,V=H,ee=E,se=l,ae=u,ie=c,re=b("auth"),oe=b("auth-all");return s(),a("div",null,[p(n,{title:"权限验证"}),p(ie,null,{default:m((()=>[f(r).app.enablePermission?(s(),a("div",D,[F,p($,{modelValue:f(o).account,"onUpdate:modelValue":t[0]||(t[0]=e=>f(o).account=e),onChange:d},{default:m((()=>[p(k,{label:"admin"}),p(k,{label:"test"})])),_:1},8,["modelValue"]),P,v("div",null,w(f(o).permissions),1),Q,v("div",null,[p(V,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":m((()=>[p(C,{type:"danger"},{default:m((()=>[T])),_:1})])),default:m((()=>[p(C,null,{default:m((()=>[S])),_:1})])),_:1}),p(V,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":m((()=>[p(C,{type:"danger"},{default:m((()=>[q])),_:1})])),default:m((()=>[p(C,null,{default:m((()=>[U])),_:1})])),_:1}),p(V,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":m((()=>[p(C,{type:"danger"},{default:m((()=>[B])),_:1})])),default:m((()=>[p(C,null,{default:m((()=>[z])),_:1})])),_:1},8,["value"]),p(ee,{value:["permission.browse","permission.create"]},{"no-auth":m((()=>[p(C,{type:"danger"},{default:m((()=>[I])),_:1})])),default:m((()=>[p(C,null,{default:m((()=>[G])),_:1})])),_:1},8,["value"])]),J,v("div",null,[_((s(),a("div",null,K)),[[re,"permission.browse"]]),_((s(),a("div",null,L)),[[re,"permission.create"]]),_((s(),a("div",null,M)),[[re,["permission.browse","permission.create"]]]),_((s(),a("div",null,N)),[[oe,["permission.browse","permission.create"]]])]),R,v("div",null,[p(ae,{style:{display:"block","margin-bottom":"10px"}},{default:m((()=>[p(se,{onClick:t[1]||(t[1]=e=>g("permission.browse"))},{default:m((()=>[W])),_:1}),p(se,{onClick:t[2]||(t[2]=e=>g("permission.create"))},{default:m((()=>[X])),_:1})])),_:1}),p(ae,null,{default:m((()=>[p(se,{onClick:t[3]||(t[3]=e=>g(["permission.browse","permission.create"]))},{default:m((()=>[Y])),_:1}),p(se,{onClick:t[4]||(t[4]=e=>{return s=["permission.browse","permission.create"],void(i.$authAll(s)?y.success("校验通过"):y.error("校验不通过"));var s})},{default:m((()=>[Z])),_:1})])),_:1})])])):(s(),a("div",O,"请到 seeting.js 里打开权限功能，再进入该页面查看演示"))])),_:1})])}}};"function"==typeof d&&d(ee);export{ee as default};
