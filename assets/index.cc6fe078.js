
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,i=(e,a)=>{for(var l in a||(a={}))n.call(a,l)&&o(e,l,a[l]);if(t)for(var l of t(a))s.call(a,l)&&o(e,l,a[l]);return e},d=(e,t)=>a(e,l(t));import{d as r,u as c,au as u,E as p,cD as h,ba as v,ar as m,V as f,c as g,_ as b,L as k,b as y,f as C,m as x,e as w,l as V,w as E,h as S,n as N,R as $,D,cd as L,b3 as T,r as P,cC as _,W as z,a1 as I,Q as j,H,ct as M,bQ as O,bq as A,bv as B,a$ as F,K as q,as as K,y as R,ck as U,o as W,aA as Z,ak as Q,cc as X,al as G,a4 as Y,a_ as J,aq as ee,ac as ae,bP as le,bR as te,aR as ne,aY as se,cb as oe,bc as ie,aX as de,cf as re,F as ce,a0 as ue,cg as pe,k as he,G as ve,g as me,z as fe,cE as ge,i as be,bh as ke}from"./index.95bdb5c1.js";/* empty css                 *//* empty css               */import{E as ye}from"./el-checkbox.07a4d97a.js";/* empty css                 *//* empty css                     */import{b as Ce}from"./index2.372ef9d6.js";import{l as xe}from"./isEqual.b26dc892.js";import{i as we,f as Ve,g as Ee}from"./aria2.dceaa135.js";import{U as Se,C as Ne}from"./event2.c09267d7.js";import{u as $e,c as De}from"./arrays2.9d0dd0a1.js";import{b as Le}from"./_baseFlatten.f6723dcf.js";import{E as Te,i as Pe}from"./index2.3c86b1b9.js";import{E as _e,t as ze}from"./index2.562e650e.js";import{C as Ie}from"./index2.a39e9557.js";import{i as je}from"./validator2.605ff585.js";var He=r({name:"NodeContent",setup:()=>({ns:c("cascader-node")}),render(){const{ns:e}=this,{node:a,panel:l}=this.$parent,{data:t,label:n}=a,{renderLabelFn:s}=l;return u("span",{class:e.e("label")},s?s({node:a,data:t}):n)}});const Me=Symbol(),Oe=r({name:"ElCascaderNode",components:{ElCheckbox:ye,ElRadio:Ce,NodeContent:He,ElIcon:p,Check:h,Loading:v,ArrowRight:m},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:a}){const l=f(Me),t=c("cascader-node"),n=g((()=>l.isHoverMenu)),s=g((()=>l.config.multiple)),o=g((()=>l.config.checkStrictly)),i=g((()=>{var e;return null==(e=l.checkedNodes[0])?void 0:e.uid})),d=g((()=>e.node.isDisabled)),r=g((()=>e.node.isLeaf)),u=g((()=>o.value&&!r.value||!d.value)),p=g((()=>v(l.expandingNode))),h=g((()=>o.value&&l.checkedNodes.some(v))),v=a=>{var l;const{level:t,uid:n}=e.node;return(null==(l=null==a?void 0:a.pathNodes[t-1])?void 0:l.uid)===n},m=()=>{p.value||l.expandNode(e.node)},b=a=>{const{node:t}=e;a!==t.checked&&l.handleCheckChange(t,a)},k=()=>{l.lazyLoad(e.node,(()=>{r.value||m()}))},y=()=>{const{node:a}=e;u.value&&!a.loading&&(a.loaded?m():k())},C=a=>{e.node.loaded?(b(a),!o.value&&m()):k()};return{panel:l,isHoverMenu:n,multiple:s,checkStrictly:o,checkedNodeId:i,isDisabled:d,isLeaf:r,expandable:u,inExpandingPath:p,inCheckedPath:h,ns:t,handleHoverExpand:e=>{n.value&&(y(),!r.value&&a("expand",e))},handleExpand:y,handleClick:()=>{n.value&&!r.value||(!r.value||d.value||o.value||s.value?y():C(!0))},handleCheck:C,handleSelectCheck:a=>{o.value?(b(a),e.node.loaded&&m()):C(a)}}}}),Ae=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],Be=D("span",null,null,-1);var Fe=b(r({name:"ElCascaderMenu",components:{Loading:v,ElIcon:p,ElScrollbar:L,ElCascaderNode:b(Oe,[["render",function(e,a,l,t,n,s){const o=k("el-checkbox"),i=k("el-radio"),d=k("check"),r=k("el-icon"),c=k("node-content"),u=k("loading"),p=k("arrow-right");return y(),C("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:N([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:a[2]||(a[2]=(...a)=>e.handleHoverExpand&&e.handleHoverExpand(...a)),onFocus:a[3]||(a[3]=(...a)=>e.handleHoverExpand&&e.handleHoverExpand(...a)),onClick:a[4]||(a[4]=(...a)=>e.handleClick&&e.handleClick(...a))},[x(" prefix "),e.multiple?(y(),w(o,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:a[0]||(a[0]=V((()=>{}),["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(y(),w(i,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:a[1]||(a[1]=V((()=>{}),["stop"]))},{default:E((()=>[x("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),Be])),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(y(),w(r,{key:2,class:N(e.ns.e("prefix"))},{default:E((()=>[S(d)])),_:1},8,["class"])):x("v-if",!0),x(" content "),S(c),x(" postfix "),e.isLeaf?x("v-if",!0):(y(),C($,{key:3},[e.node.loading?(y(),w(r,{key:0,class:N([e.ns.is("loading"),e.ns.e("postfix")])},{default:E((()=>[S(u)])),_:1},8,["class"])):(y(),w(r,{key:1,class:N(["arrow-right",e.ns.e("postfix")])},{default:E((()=>[S(p)])),_:1},8,["class"]))],64))],42,Ae)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]])},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const a=H(),l=c("cascader-menu"),{t:t}=T(),n=_();let s=null,o=null;const i=f(Me),d=P(null),r=g((()=>!e.nodes.length)),u=g((()=>!i.initialLoaded)),p=g((()=>`cascader-menu-${n}-${e.index}`)),h=()=>{o&&(clearTimeout(o),o=null)},v=()=>{d.value&&(d.value.innerHTML="",h())};return{ns:l,panel:i,hoverZone:d,isEmpty:r,isLoading:u,menuId:p,t:t,handleExpand:e=>{s=e.target},handleMouseMove:e=>{if(i.isHoverMenu&&s&&d.value)if(s.contains(e.target)){h();const l=a.vnode.el,{left:t}=l.getBoundingClientRect(),{offsetWidth:n,offsetHeight:o}=l,i=e.clientX-t,r=s.offsetTop,c=r+s.offsetHeight;d.value.innerHTML=`\n          <path style="pointer-events: auto;" fill="transparent" d="M${i} ${r} L${n} 0 V${r} Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M${i} ${c} L${n} ${o} V${c} Z" />\n        `}else o||(o=window.setTimeout(v,i.config.hoverThreshold))},clearHoverZone:v}}}),[["render",function(e,a,l,t,n,s){const o=k("el-cascader-node"),i=k("loading"),d=k("el-icon"),r=k("el-scrollbar");return y(),w(r,{key:e.menuId,tag:"ul",role:"menu",class:N(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:E((()=>{var a;return[(y(!0),C($,null,z(e.nodes,(a=>(y(),w(o,{key:a.uid,node:a,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"])))),128)),e.isLoading?(y(),C("div",{key:0,class:N(e.ns.e("empty-text"))},[S(d,{size:"14",class:N(e.ns.is("loading"))},{default:E((()=>[S(i)])),_:1},8,["class"]),I(" "+j(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(y(),C("div",{key:1,class:N(e.ns.e("empty-text"))},j(e.t("el.cascader.noData")),3)):(null==(a=e.panel)?void 0:a.isHoverMenu)?(y(),C("svg",{key:2,ref:"hoverZone",class:N(e.ns.e("hover-zone"))},null,2)):x("v-if",!0)]})),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]),qe=(e=>(e.CLICK="click",e.HOVER="hover",e))(qe||{});let Ke=0;class Re{constructor(e,a,l,t=!1){this.data=e,this.config=a,this.parent=l,this.root=t,this.uid=Ke++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:n,label:s,children:o}=a,i=e[o],d=(e=>{const a=[e];let{parent:l}=e;for(;l;)a.unshift(l),l=l.parent;return a})(this);this.level=t?0:l?l.level+1:1,this.value=e[n],this.label=e[s],this.pathNodes=d,this.pathValues=d.map((e=>e.value)),this.pathLabels=d.map((e=>e.label)),this.childrenData=i,this.children=(i||[]).map((e=>new Re(e,a,this))),this.loaded=!a.lazy||this.isLeaf||!M(i)}get isDisabled(){const{data:e,parent:a,config:l}=this,{disabled:t,checkStrictly:n}=l;return(O(t)?t(e,this):!!e[t])||!n&&(null==a?void 0:a.isDisabled)}get isLeaf(){const{data:e,config:a,childrenData:l,loaded:t}=this,{lazy:n,leaf:s}=a,o=O(s)?s(e,this):e[s];return A(o)?!(n&&!t)&&!(Array.isArray(l)&&l.length):!!o}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:a,children:l}=this,t=new Re(e,this.config,this);return Array.isArray(a)?a.push(e):this.childrenData=[e],l.push(t),t}calcText(e,a){const l=e?this.pathLabels.join(a):this.label;return this.text=l,l}broadcast(e,...a){const l=`onParent${B(e)}`;this.children.forEach((t=>{t&&(t.broadcast(e,...a),t[l]&&t[l](...a))}))}emit(e,...a){const{parent:l}=this,t=`onChild${B(e)}`;l&&(l[t]&&l[t](...a),l.emit(e,...a))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,a=e.filter((e=>!e.isDisabled)),l=!!a.length&&a.every((e=>e.checked));this.setCheckState(l)}setCheckState(e){const a=this.children.length,l=this.children.reduce(((e,a)=>e+(a.checked?1:a.indeterminate?.5:0)),0);this.checked=this.loaded&&this.children.filter((e=>!e.isDisabled)).every((e=>e.loaded&&e.checked))&&e,this.indeterminate=this.loaded&&l!==a&&l>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:a,multiple:l}=this.config;a||!l?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}}const Ue=(e,a)=>e.reduce(((e,l)=>(l.isLeaf?e.push(l):(!a&&e.push(l),e=e.concat(Ue(l.children,a))),e)),[]);class We{constructor(e,a){this.config=a;const l=(e||[]).map((e=>new Re(e,this.config)));this.nodes=l,this.allNodes=Ue(l,!1),this.leafNodes=Ue(l,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,a){const l=a?a.appendChild(e):new Re(e,this.config);a||this.nodes.push(l),this.allNodes.push(l),l.isLeaf&&this.leafNodes.push(l)}appendNodes(e,a){e.forEach((e=>this.appendNode(e,a)))}getNodeByValue(e,a=!1){if(!e&&0!==e)return null;return this.getFlattedNodes(a).find((a=>xe(a.value,e)||xe(a.pathValues,e)))||null}getSameNode(e){if(!e)return null;return this.getFlattedNodes(!1).find((({value:a,level:l})=>xe(e.value,a)&&e.level===l))||null}}const Ze={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},Qe={expandTrigger:qe.CLICK,multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:F,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Xe=e=>{if(!e)return 0;const a=e.id.split("-");return Number(a[a.length-2])};var Ge=b(r({name:"ElCascaderPanel",components:{ElCascaderMenu:Fe},props:d(i({},Ze),{border:{type:Boolean,default:!0},renderLabel:Function}),emits:[Se,Ne,"close","expand-change"],setup(e,{emit:a,slots:l}){let t=!1;const n=c("cascader"),s=(e=>g((()=>i(i({},Qe),e.props))))(e);let o=null;const d=P(!0),r=P([]),u=P(null),p=P([]),h=P(null),v=P([]),m=g((()=>s.value.expandTrigger===qe.HOVER)),f=g((()=>e.renderLabel||l.default)),b=(e,a)=>{const l=s.value;(e=e||new Re({},l,void 0,!0)).loading=!0;l.lazyLoad(e,(l=>{const t=e,n=t.root?null:t;l&&(null==o||o.appendNodes(l,n)),t.loading=!1,t.loaded=!0,t.childrenData=t.childrenData||[],a&&a(l)}))},k=(e,l)=>{var t;const{level:n}=e,s=p.value.slice(0,n);let o;e.isLeaf?o=e.pathNodes[n-2]:(o=e,s.push(e.children)),(null==(t=h.value)?void 0:t.uid)!==(null==o?void 0:o.uid)&&(h.value=e,p.value=s,!l&&a("expand-change",(null==e?void 0:e.pathValues)||[]))},y=(e,l,n=!0)=>{const{checkStrictly:o,multiple:i}=s.value,d=v.value[0];t=!0,!i&&(null==d||d.doCheck(!1)),e.doCheck(l),V(),n&&!i&&!o&&a("close"),!n&&!i&&!o&&C(e)},C=e=>{e&&(e=e.parent,C(e),e&&k(e))},x=e=>null==o?void 0:o.getFlattedNodes(e),w=e=>{var a;return null==(a=x(e))?void 0:a.filter((e=>!1!==e.checked))},V=()=>{var e;const{checkStrictly:a,multiple:l}=s.value,t=((e,a)=>{const l=a.slice(0),t=l.map((e=>e.uid)),n=e.reduce(((e,a)=>{const n=t.indexOf(a.uid);return n>-1&&(e.push(a),l.splice(n,1),t.splice(n,1)),e}),[]);return n.push(...l),n})(v.value,w(!a)),n=t.map((e=>e.valueByOption));v.value=t,u.value=l?n:null!=(e=n[0])?e:null},E=(a=!1,l=!1)=>{const{modelValue:n}=e,{lazy:i,multiple:r,checkStrictly:c}=s.value,p=!c;var h;if(d.value&&!t&&(l||!xe(n,u.value)))if(i&&!a){const e=$e(null!=(h=De(n))&&h.length?Le(h,1/0):[]).map((e=>null==o?void 0:o.getNodeByValue(e))).filter((e=>!!e&&!e.loaded&&!e.loading));e.length?e.forEach((e=>{b(e,(()=>E(!1,l)))})):E(!0,l)}else{const e=r?De(n):[n],a=$e(e.map((e=>null==o?void 0:o.getNodeByValue(e,p))));S(a,!1),u.value=n}},S=(e,a=!0)=>{const{checkStrictly:l}=s.value,t=v.value,n=e.filter((e=>!!e&&(l||e.isLeaf))),i=null==o?void 0:o.getSameNode(h.value),d=a&&i||n[0];d?d.pathNodes.forEach((e=>k(e,!0))):h.value=null,t.forEach((e=>e.doCheck(!1))),n.forEach((e=>e.doCheck(!0))),v.value=n,Z(N)},N=()=>{Q&&r.value.forEach((e=>{const a=null==e?void 0:e.$el;if(a){const e=a.querySelector(`.${n.namespace.value}-scrollbar__wrap`),l=a.querySelector(`.${n.b("node")}.${n.is("active")}`)||a.querySelector(`.${n.b("node")}.in-active-path`);X(e,l)}}))};return q(Me,K({config:s,expandingNode:h,checkedNodes:v,isHoverMenu:m,initialLoaded:d,renderLabelFn:f,lazyLoad:b,expandNode:k,handleCheckChange:y})),R([s,()=>e.options],(()=>{const{options:a}=e,l=s.value;t=!1,o=new We(a,l),p.value=[o.getNodes()],l.lazy&&M(e.options)?(d.value=!1,b(void 0,(e=>{e&&(o=new We(e,l),p.value=[o.getNodes()]),d.value=!0,E(!1,!0)}))):E(!1,!0)}),{deep:!0,immediate:!0}),R((()=>e.modelValue),(()=>{t=!1,E()})),R(u,(l=>{xe(l,e.modelValue)||(a(Se,l),a(Ne,l))})),U((()=>r.value=[])),W((()=>!M(e.modelValue)&&E())),{ns:n,menuList:r,menus:p,checkedNodes:v,handleKeyDown:e=>{const a=e.target,{code:l}=e;switch(l){case G.up:case G.down:{e.preventDefault();const t=l===G.up?-1:1;Ve(Ee(a,t,`.${n.b("node")}[tabindex="-1"]`));break}case G.left:{e.preventDefault();const l=r.value[Xe(a)-1],t=null==l?void 0:l.$el.querySelector(`.${n.b("node")}[aria-expanded="true"]`);Ve(t);break}case G.right:{e.preventDefault();const l=r.value[Xe(a)+1],t=null==l?void 0:l.$el.querySelector(`.${n.b("node")}[tabindex="-1"]`);Ve(t);break}case G.enter:(e=>{if(!e)return;const a=e.querySelector("input");a?a.click():we(e)&&e.click()})(a)}},handleCheckChange:y,getFlattedNodes:x,getCheckedNodes:w,clearCheckedNodes:()=>{v.value.forEach((e=>e.doCheck(!1))),V()},calculateCheckedValue:V,scrollToExpandingNode:N}}}),[["render",function(e,a,l,t,n,s){const o=k("el-cascader-menu");return y(),C("div",{class:N([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:a[0]||(a[0]=(...a)=>e.handleKeyDown&&e.handleKeyDown(...a))},[(y(!0),C($,null,z(e.menus,((a,l)=>(y(),w(o,{key:l,ref_for:!0,ref:a=>e.menuList[l]=a,index:l,nodes:[...a]},null,8,["index","nodes"])))),128))],34)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);Ge.install=e=>{e.component(Ge.name,Ge)};const Ye={large:36,default:32,small:28},Je={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:a,placement:l}=e;["right","left","bottom","top"].includes(l)||(a.arrow.x=35)},requires:["arrow"]}]},ea=r({name:"ElCascader",components:{ElCascaderPanel:Ge,ElInput:Te,ElTooltip:Y,ElScrollbar:L,ElTag:_e,ElIcon:p,CircleClose:J,Check:h,ArrowDown:ee},directives:{Clickoutside:Ie},props:d(i({},Ze),{size:{type:String,validator:je},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(e,a)=>e.text.includes(a)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},teleported:ae.teleported,tagType:d(i({},ze.type),{default:"info"})}),emits:[Se,Ne,"focus","blur","visible-change","expand-change","remove-tag"],setup(e,{emit:a}){let l=0,t=0;const n=c("cascader"),s=c("input"),{t:o}=T(),i=f(le,{}),d=f(te,{}),r=P(null),u=P(null),p=P(null),h=P(null),v=P(null),m=P(!1),b=P(!1),k=P(!1),y=P(""),C=P(""),x=P([]),w=P([]),V=P([]),E=P(!1),S=g((()=>e.disabled||i.disabled)),N=g((()=>e.placeholder||o("el.cascader.placeholder"))),$=ne(),D=g((()=>["small"].includes($.value)?"small":"default")),L=g((()=>!!e.props.multiple)),_=g((()=>!e.filterable||L.value)),z=g((()=>L.value?C.value:y.value)),I=g((()=>{var e;return(null==(e=h.value)?void 0:e.checkedNodes)||[]})),j=g((()=>!(!e.clearable||S.value||k.value||!b.value)&&!!I.value.length)),H=g((()=>{const{showAllLevels:a,separator:l}=e,t=I.value;return t.length?L.value?" ":t[0].calcText(a,l):""})),M=g({get:()=>e.modelValue,set(e){var l;a(Se,e),a(Ne,e),null==(l=d.validate)||l.call(d,"change").catch((e=>se()))}}),O=g((()=>{var e,a;return null==(a=null==(e=r.value)?void 0:e.popperRef)?void 0:a.contentRef})),A=l=>{var t,n,s;if(!S.value&&(l=null!=l?l:!m.value)!==m.value){if(m.value=l,null==(n=null==(t=u.value)?void 0:t.input)||n.setAttribute("aria-expanded",`${l}`),l)B(),Z(null==(s=h.value)?void 0:s.scrollToExpandingNode);else if(e.filterable){const{value:e}=H;y.value=e,C.value=e}a("visible-change",l)}},B=()=>{Z((()=>{var e;null==(e=r.value)||e.updatePopper()}))},F=()=>{k.value=!1},q=a=>{const{showAllLevels:l,separator:t}=e;return{node:a,key:a.uid,text:a.calcText(l,t),hitState:!1,closable:!S.value&&!a.isDisabled,isCollapseTag:!1}},K=e=>{var l;const t=e.node;t.doCheck(!1),null==(l=h.value)||l.calculateCheckedValue(),a("remove-tag",t.valueByOption)},U=()=>{var a,l;const{filterMethod:t,showAllLevels:n,separator:s}=e,o=null==(l=null==(a=h.value)?void 0:a.getFlattedNodes(!e.props.checkStrictly))?void 0:l.filter((e=>!e.isDisabled&&(e.calcText(n,s),t(e,z.value))));L.value&&(x.value.forEach((e=>{e.hitState=!1})),w.value.forEach((e=>{e.hitState=!1}))),k.value=!0,V.value=o,B()},X=()=>{var e;let a;a=k.value&&v.value?v.value.$el.querySelector(`.${n.e("suggestion-item")}`):null==(e=h.value)?void 0:e.$el.querySelector(`.${n.b("node")}[tabindex="-1"]`),a&&(a.focus(),!k.value&&a.click())},Y=()=>{var e,a;const t=null==(e=u.value)?void 0:e.input,s=p.value,o=null==(a=v.value)?void 0:a.$el;if(Q&&t){if(o){o.querySelector(`.${n.e("suggestion-list")}`).style.minWidth=`${t.offsetWidth}px`}if(s){const{offsetHeight:e}=s,a=x.value.length>0?`${Math.max(e+6,l)}px`:`${l}px`;t.style.height=a,B()}}},J=oe((()=>{const{value:a}=z;if(!a)return;const l=e.beforeFilter(a);ie(l)?l.then(U).catch((()=>{})):!1!==l?U():F()}),e.debounce),ee=(e,a)=>{!m.value&&A(!0),(null==a?void 0:a.isComposing)||(e?J():F())};return R(k,B),R([I,S],(()=>{if(!L.value)return;const a=I.value,l=[],t=[];if(a.forEach((e=>t.push(q(e)))),w.value=t,a.length){const[t,...n]=a,s=n.length;l.push(q(t)),s&&(e.collapseTags?l.push({key:-1,text:`+ ${s}`,closable:!1,isCollapseTag:!0}):n.forEach((e=>l.push(q(e)))))}x.value=l})),R(x,(()=>{Z((()=>Y()))})),R(H,(e=>y.value=e),{immediate:!0}),W((()=>{var e;const a=null==(e=u.value)?void 0:e.$el;l=(null==a?void 0:a.offsetHeight)||Ye[$.value]||40,de(a,Y)})),{popperOptions:Je,tooltipRef:r,popperPaneRef:O,input:u,tagWrapper:p,panel:h,suggestionPanel:v,popperVisible:m,inputHover:b,inputPlaceholder:N,filtering:k,presentText:H,checkedValue:M,inputValue:y,searchInputValue:C,presentTags:x,allPresentTags:w,suggestions:V,isDisabled:S,isOnComposition:E,realSize:$,tagSize:D,multiple:L,readonly:_,clearBtnVisible:j,nsCascader:n,nsInput:s,t:o,togglePopperVisible:A,hideSuggestionPanel:F,deleteTag:K,focusFirstNode:X,getCheckedNodes:e=>{var a;return null==(a=h.value)?void 0:a.getCheckedNodes(e)},handleExpandChange:e=>{B(),a("expand-change",e)},handleKeyDown:e=>{if(!E.value)switch(e.code){case G.enter:A();break;case G.down:A(!0),Z(X),e.preventDefault();break;case G.esc:!0===m.value&&(e.preventDefault(),e.stopPropagation(),A(!1));break;case G.tab:A(!1)}},handleComposition:e=>{var a;const l=null==(a=e.target)?void 0:a.value;if("compositionend"===e.type)E.value=!1,Z((()=>ee(l)));else{const e=l[l.length-1]||"";E.value=!Pe(e)}},handleClear:()=>{var e;null==(e=h.value)||e.clearCheckedNodes(),A(!1)},handleSuggestionClick:e=>{var a,l;const{checked:t}=e;L.value?null==(a=h.value)||a.handleCheckChange(e,!t,!1):(!t&&(null==(l=h.value)||l.handleCheckChange(e,!0,!1)),A(!1))},handleSuggestionKeyDown:e=>{const a=e.target,{code:l}=e;switch(l){case G.up:case G.down:{const e=l===G.up?-1:1;Ve(Ee(a,e,`.${n.e("suggestion-item")}[tabindex="-1"]`));break}case G.enter:a.click()}},handleDelete:()=>{const e=x.value,a=e[e.length-1];t=C.value?0:t+1,a&&t&&(a.hitState?K(a):a.hitState=!0)},handleInput:ee}}}),aa={key:0},la={class:"el-cascader__collapse-tags"},ta=["placeholder"],na=["onClick"];var sa=b(ea,[["render",function(e,a,l,t,n,s){const o=k("circle-close"),i=k("el-icon"),d=k("arrow-down"),r=k("el-input"),c=k("el-tag"),u=k("el-tooltip"),p=k("el-cascader-panel"),h=k("check"),v=k("el-scrollbar"),m=re("clickoutside");return y(),w(u,{ref:"tooltipRef",visible:e.popperVisible,"onUpdate:visible":a[17]||(a[17]=a=>e.popperVisible=a),teleported:e.teleported,"popper-class":[e.nsCascader.e("dropdown"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${e.nsCascader.namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:e.hideSuggestionPanel},{default:E((()=>[ce((y(),C("div",{class:N([e.nsCascader.b(),e.nsCascader.m(e.realSize),e.nsCascader.is("disabled",e.isDisabled),e.$attrs.class]),style:he(e.$attrs.style),onClick:a[11]||(a[11]=()=>e.togglePopperVisible(!e.readonly||void 0)),onKeydown:a[12]||(a[12]=(...a)=>e.handleKeyDown&&e.handleKeyDown(...a)),onMouseenter:a[13]||(a[13]=a=>e.inputHover=!0),onMouseleave:a[14]||(a[14]=a=>e.inputHover=!1)},[S(r,{ref:"input",modelValue:e.inputValue,"onUpdate:modelValue":a[1]||(a[1]=a=>e.inputValue=a),placeholder:e.searchInputValue?"":e.inputPlaceholder,readonly:e.readonly,disabled:e.isDisabled,"validate-event":!1,size:e.realSize,class:N(e.nsCascader.is("focus",e.popperVisible)),onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onFocus:a[2]||(a[2]=a=>e.$emit("focus",a)),onBlur:a[3]||(a[3]=a=>e.$emit("blur",a)),onInput:e.handleInput},{suffix:E((()=>[e.clearBtnVisible?(y(),w(i,{key:"clear",class:N([e.nsInput.e("icon"),"icon-circle-close"]),onClick:V(e.handleClear,["stop"])},{default:E((()=>[S(o)])),_:1},8,["class","onClick"])):(y(),w(i,{key:"arrow-down",class:N([e.nsInput.e("icon"),"icon-arrow-down",e.nsCascader.is("reverse",e.popperVisible)]),onClick:a[0]||(a[0]=V((a=>e.togglePopperVisible()),["stop"]))},{default:E((()=>[S(d)])),_:1},8,["class"]))])),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),e.multiple?(y(),C("div",{key:0,ref:"tagWrapper",class:N(e.nsCascader.e("tags"))},[(y(!0),C($,null,z(e.presentTags,(a=>(y(),w(c,{key:a.key,type:e.tagType,size:e.tagSize,hit:a.hitState,closable:a.closable,"disable-transitions":"",onClose:l=>e.deleteTag(a)},{default:E((()=>[!1===a.isCollapseTag?(y(),C("span",aa,j(a.text),1)):(y(),w(u,{key:1,teleported:!1,disabled:e.popperVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:E((()=>[D("span",null,j(a.text),1)])),content:E((()=>[D("div",la,[(y(!0),C($,null,z(e.allPresentTags,((a,l)=>(y(),C("div",{key:l,class:"el-cascader__collapse-tag"},[(y(),w(c,{key:a.key,class:"in-tooltip",type:e.tagType,size:e.tagSize,hit:a.hitState,closable:a.closable,"disable-transitions":"",onClose:l=>e.deleteTag(a)},{default:E((()=>[D("span",null,j(a.text),1)])),_:2},1032,["type","size","hit","closable","onClose"]))])))),128))])])),_:2},1032,["disabled"]))])),_:2},1032,["type","size","hit","closable","onClose"])))),128)),e.filterable&&!e.isDisabled?ce((y(),C("input",{key:0,"onUpdate:modelValue":a[4]||(a[4]=a=>e.searchInputValue=a),type:"text",class:N(e.nsCascader.e("search-input")),placeholder:e.presentText?"":e.inputPlaceholder,onInput:a[5]||(a[5]=a=>e.handleInput(e.searchInputValue,a)),onClick:a[6]||(a[6]=V((a=>e.togglePopperVisible(!0)),["stop"])),onKeydown:a[7]||(a[7]=ue(((...a)=>e.handleDelete&&e.handleDelete(...a)),["delete"])),onCompositionstart:a[8]||(a[8]=(...a)=>e.handleComposition&&e.handleComposition(...a)),onCompositionupdate:a[9]||(a[9]=(...a)=>e.handleComposition&&e.handleComposition(...a)),onCompositionend:a[10]||(a[10]=(...a)=>e.handleComposition&&e.handleComposition(...a))},null,42,ta)),[[pe,e.searchInputValue]]):x("v-if",!0)],2)):x("v-if",!0)],38)),[[m,()=>e.togglePopperVisible(!1),e.popperPaneRef]])])),content:E((()=>[ce(S(p,{ref:"panel",modelValue:e.checkedValue,"onUpdate:modelValue":a[15]||(a[15]=a=>e.checkedValue=a),options:e.options,props:e.props,border:!1,"render-label":e.$slots.default,onExpandChange:e.handleExpandChange,onClose:a[16]||(a[16]=a=>e.$nextTick((()=>e.togglePopperVisible(!1))))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[ve,!e.filtering]]),e.filterable?ce((y(),w(v,{key:0,ref:"suggestionPanel",tag:"ul",class:N(e.nsCascader.e("suggestion-panel")),"view-class":e.nsCascader.e("suggestion-list"),onKeydown:e.handleSuggestionKeyDown},{default:E((()=>[e.suggestions.length?(y(!0),C($,{key:0},z(e.suggestions,(a=>(y(),C("li",{key:a.uid,class:N([e.nsCascader.e("suggestion-item"),e.nsCascader.is("checked",a.checked)]),tabindex:-1,onClick:l=>e.handleSuggestionClick(a)},[D("span",null,j(a.text),1),a.checked?(y(),w(i,{key:0},{default:E((()=>[S(h)])),_:1})):x("v-if",!0)],10,na)))),128)):me(e.$slots,"empty",{key:1},(()=>[D("li",{class:N(e.nsCascader.e("empty-text"))},j(e.t("el.cascader.noMatch")),3)]))])),_:3},8,["class","view-class","onKeydown"])),[[ve,e.filtering]]):x("v-if",!0)])),_:3},8,["visible","teleported","popper-class","popper-options","transition","onHide"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/index.vue"]]);sa.install=e=>{e.component(sa.name,sa)};const oa=sa;const ia=r({name:"CascaderArea"});var da=fe(Object.assign(ia,{props:{modelValue:{type:Array,default:()=>[]},size:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,t=P({options:ge,props:{value:"code",label:"name"}}),n=g({get:()=>{const e=[];if(3===l.modelValue.length){const[a,t,n]=l.modelValue;ge.map((l=>{l.name===a&&(e.push(l.code),l.children.map((a=>{a.name===t&&(e.push(a.code),a.children.map((a=>{a.name===n&&e.push(a.code)})))})))}))}return e},set:e=>{if(e){let[l,t,n]=e;ge.map((e=>{e.code===l&&(l=e.name,e.children.map((e=>{e.code===t&&(t=e.name,e.children.map((e=>{e.code===n&&(n=e.name)})))})))})),a("update:modelValue",[l,t,n])}else a("update:modelValue",[])}});return(a,l)=>{const s=oa;return y(),C("div",null,[S(s,{modelValue:be(n),"onUpdate:modelValue":l[0]||(l[0]=e=>ke(n)?n.value=e:null),options:t.value.options,props:t.value.props,size:e.size,disabled:e.disabled,clearable:"",filterable:""},null,8,["modelValue","options","props","size","disabled"])])}}}),[["__scopeId","data-v-99a74718"]]);export{da as _};
