
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
var e=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(o,l,a)=>l in o?e(o,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[l]=a;import{aa as u,aL as r,az as c,ae as d,bl as p,bj as f,r as y,bE as i,bF as v,c as b,af as m,y as O,aE as C,o as B,I as g,ay as j,an as I}from"./index.d45ed42d.js";import{U as w}from"./event.6c7ea317.js";import{u as D}from"./el-overlay.2b0d4845.js";const F=u({center:{type:Boolean,default:!1},closeIcon:{type:r,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),x={close:()=>!0},S=u((h=((e,o)=>{for(var l in o||(o={}))t.call(o,l)&&s(e,l,o[l]);if(a)for(var l of a(o))n.call(o,l)&&s(e,l,o[l]);return e})({},F),P={appendToBody:{type:Boolean,default:!1},beforeClose:{type:c(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}},o(h,l(P))));var h,P;const A={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[w]:e=>d(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},E=(e,o)=>{const l=g().emit,{nextZIndex:a}=p();let t="";const n=f(),s=f(),u=y(!1),r=y(!1),c=y(!1),d=y(e.zIndex||a());let F,x;const S=i("namespace",v),h=b((()=>{const o={},l=`--${S.value}-dialog`;return e.fullscreen||(e.top&&(o[`${l}-margin-top`]=e.top),e.width&&(o[`${l}-width`]=m(e.width))),o}));function P(){null==x||x(),null==F||F(),e.openDelay&&e.openDelay>0?({stop:F}=j((()=>k()),e.openDelay)):k()}function A(){null==F||F(),null==x||x(),e.closeDelay&&e.closeDelay>0?({stop:x}=j((()=>z()),e.closeDelay)):z()}function E(){e.beforeClose?e.beforeClose((function(e){e||(r.value=!0,u.value=!1)})):A()}function k(){I&&(u.value=!0)}function z(){u.value=!1}return e.lockScroll&&D(u),O((()=>e.modelValue),(t=>{t?(r.value=!1,P(),c.value=!0,l("open"),d.value=e.zIndex?d.value++:a(),C((()=>{o.value&&(o.value.scrollTop=0)}))):u.value&&A()})),O((()=>e.fullscreen),(e=>{o.value&&(e?(t=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=t)})),B((()=>{e.modelValue&&(u.value=!0,c.value=!0,P())})),{afterEnter:function(){l("opened")},afterLeave:function(){l("closed"),l(w,!1),e.destroyOnClose&&(c.value=!1)},beforeLeave:function(){l("close")},handleClose:E,onModalClick:function(){e.closeOnClickModal&&E()},close:A,doClose:z,onOpenAutoFocus:function(){l("openAutoFocus")},onCloseAutoFocus:function(){l("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&E()},titleId:n,bodyId:s,closed:r,style:h,rendered:c,visible:u,zIndex:d}};export{A as a,F as b,x as c,S as d,E as u};
