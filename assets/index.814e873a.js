
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
    
import{v as e,x as s,a7 as i,bS as a,f as o,h as r,w as n,bP as t,bQ as l,cz as u,b as m,i as p,G as d,M as c,H as b,Y as f,db as w,a4 as _,bT as v}from"./index.45a1a0f2.js";/* empty css               *//* empty css                       *//* empty css                        */import"./el-loading.bd194390.js";import{E as g,a as h}from"./index.a8111417.js";import{E as x}from"./index.476552b9.js";import{E as y}from"./index.8ba06520.js";import"./event.d298a7ab.js";const j={key:0},k={key:1},C=d("h3",null,"切换帐号",-1),E=d("h3",null,"帐号权限",-1),V=d("h3",null,"鉴权组件（请对照代码查看）",-1),P=f("你有 permission.browse 权限"),T=f("你没有 permission.browse 权限"),z=f("你有 permission.create 权限"),A=f("你没有 permission.create 权限"),G=f("你有 permission.browse 或 permission.create 权限"),H=f("你没有 permission.browse 或 permission.create 权限"),M=f("你有 permission.browse 和 permission.create 权限"),Q=f("你没有 permission.browse 和 permission.create 权限"),S=d("h3",null,"鉴权指令（请对照代码查看）",-1),U=[f(" 如果你有 permission.browse 权限则能看到这句话 ")],Y=[f(" 如果你有 permission.create 权限则能看到这句话 ")],q=[f(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")],B=[f(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")],D=d("h3",null,"鉴权函数（请对照代码查看）",-1),F=f("校验 permission.browse 权限"),I=f("校验 permission.create 权限"),J=f("校验 permission.browse 或 permission.create 权限"),K=f("校验 permission.browse 和 permission.create 权限"),L={__name:"index",setup(t){const f=e(),L=s(),{auth:N,authAll:O}=w();function R(e){y.service({lock:!0,text:"帐号切换中",background:"rgba(0, 0, 0, 0.7)"}),L.login({account:e,password:""}).then((()=>{setTimeout((()=>{location.reload()}),1e3)}))}function W(e){N(e)?_.success("校验通过"):_.error("校验不通过")}return(e,s)=>{const t=v,w=g,y=h,X=x,Z=i,$=a,ee=l,se=u("auth"),ie=u("auth-all");return m(),o("div",null,[r(t,{title:"权限验证"}),r(ee,null,{default:n((()=>[p(f).app.enablePermission?(m(),o("div",k,[C,r(y,{modelValue:p(L).account,"onUpdate:modelValue":s[0]||(s[0]=e=>p(L).account=e),onChange:R},{default:n((()=>[r(w,{label:"admin"}),r(w,{label:"test"})])),_:1},8,["modelValue"]),E,d("div",null,c(p(L).permissions),1),V,d("div",null,[r(p(N),{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":n((()=>[r(X,{type:"danger"},{default:n((()=>[T])),_:1})])),default:n((()=>[r(X,null,{default:n((()=>[P])),_:1})])),_:1}),r(p(N),{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":n((()=>[r(X,{type:"danger"},{default:n((()=>[A])),_:1})])),default:n((()=>[r(X,null,{default:n((()=>[z])),_:1})])),_:1}),r(p(N),{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":n((()=>[r(X,{type:"danger"},{default:n((()=>[H])),_:1})])),default:n((()=>[r(X,null,{default:n((()=>[G])),_:1})])),_:1},8,["value"]),r(p(O),{value:["permission.browse","permission.create"]},{"no-auth":n((()=>[r(X,{type:"danger"},{default:n((()=>[Q])),_:1})])),default:n((()=>[r(X,null,{default:n((()=>[M])),_:1})])),_:1},8,["value"])]),S,d("div",null,[b((m(),o("div",null,U)),[[se,"permission.browse"]]),b((m(),o("div",null,Y)),[[se,"permission.create"]]),b((m(),o("div",null,q)),[[se,["permission.browse","permission.create"]]]),b((m(),o("div",null,B)),[[ie,["permission.browse","permission.create"]]])]),D,d("div",null,[r($,{style:{display:"block","margin-bottom":"10px"}},{default:n((()=>[r(Z,{onClick:s[1]||(s[1]=e=>W("permission.browse"))},{default:n((()=>[F])),_:1}),r(Z,{onClick:s[2]||(s[2]=e=>W("permission.create"))},{default:n((()=>[I])),_:1})])),_:1}),r($,null,{default:n((()=>[r(Z,{onClick:s[3]||(s[3]=e=>W(["permission.browse","permission.create"]))},{default:n((()=>[J])),_:1}),r(Z,{onClick:s[4]||(s[4]=e=>{O(["permission.browse","permission.create"])?_.success("校验通过"):_.error("校验不通过")})},{default:n((()=>[K])),_:1})])),_:1})])])):(m(),o("div",j,"请到 seeting.js 里打开权限功能，再进入该页面查看演示"))])),_:1})])}}};"function"==typeof t&&t(L);export{L as default};
